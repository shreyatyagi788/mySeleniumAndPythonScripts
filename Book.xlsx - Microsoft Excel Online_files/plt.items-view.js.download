(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([["plt.items-view"],{2:function(e,t,n){"use strict";n.d(t,"e",function(){return s});n.d(t,"n",function(){return o});n.d(t,"t",function(){return u});var r=n(147),i=new Map,s=(function(){function e(e){this.debugName=e;var t=this.id=Object(r.e)(e);i.set(t,this);var n=JSON.stringify(t);this.pack=new Function("v","return { ".concat(n,": v }"));this.unpack=new Function("t","return t[".concat(n,"]"))}e.get=function(e){if(!e)throw new Error("Unable to determine the Facet for an empty or undefined id.");var t=i.get(e);if(!t)throw new Error("Unable to determine the Facet for id '".concat(e,"'. ")+"Only store objects into a facet collection that have been created using the pack function. This error will typically occur if multiple versions of the @ms/items-view package have been bundled into the application.");return t};e.prototype.unpack=function(e){throw new Error("Not implemented")};e.prototype.pack=function(e){throw new Error("Not implemented")};return e})();function o(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];i.id in t&&(n[r]=t[i.id])}return n}function u(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];r in t&&(n[i.id]=t[r])}return n}},33:function(e,t,n){"use strict";n.d(t,"e",function(){return u});var r=n(0),i=n(2),s=n(179),o=(n(48),n(231),n(122),n(232),n(169),n(233),new Map),u=(function(e){Object(r.r)(t,e);function t(t,n){var r,i,u=this;if(t instanceof s.e)i=(r=t).debugName;else{if(!n)throw new Error("Missing options for new KeyFacet.");r=new s.e(t,n);i=t}(u=e.call(this,i)||this).schema=r;u.subKeyPart=r.subKeyPart;o.set(r,u);u.matches=function(e){return u.schema.matches(e)};return u}t.get=function(e){if(!e)throw new Error("Unable to determine the KeyFacet for an empty or undefined key.");var t=s.e.get(e);if(!t)throw new Error("Unable to determine the schema for a key.");var n=o.get(t);if(!n)throw new Error("Unable to determine the KeyFacet for a key with prefix '".concat(t.id,"'. ")+"Only use key values created by invoking [KeyFacet].serialize(___) when storing or fetching items in the Item Cache. This error will typically occur if multiple versions of the @ms/items-view package have been bundled into the application.");return n};t.prototype.matches=function(e){throw new Error("Not implemented")};t.prototype.serialize=function(e){return this.schema.serialize(e)};t.prototype.deserialize=function(e){return this.schema.deserialize(e)};return t})(i.e)},34:function(e,t,n){"use strict";n.d(t,"s",function(){return u});n.d(t,"e",function(){return a});n.d(t,"o",function(){return f});n.d(t,"u",function(){return l});n.d(t,"t",function(){return c});n.d(t,"n",function(){return h});n.d(t,"r",function(){return p});n.d(t,"i",function(){return d});var r,i=n(2),s=n(26),o=n(33),u=new i.e("pageLoadConfiguration"),a=new i.e("hasPageLoaded"),f=new i.e("resetPerfLogger"),l=new o.e("resetPerfLoggerKey",{}),c=new i.e("internalPerfLogger"),h=new o.e("internalPerfLoggerKey",{}),p=new i.e("itemsScopeInitTime");(function(e){e.success=s.e.Success;e.failure=s.e.Failure;e.expectedFailure=s.e.ExpectedFailure})(r||(r={}));var d=new i.e("logger")},36:function(e,t,n){"use strict";n.d(t,"e",function(){return f});n.d(t,"t",function(){return l});n.d(t,"r",function(){return c});n.d(t,"n",function(){return h});n.d(t,"i",function(){return p});var r={};n.r(r);n.d(r,"unresolved",function(){return s});n.d(r,"resolved",function(){return o});n.d(r,"failed",function(){return u});n.d(r,"unsupported",function(){return a});var i=n(2),s="",o="resolved",u="failed",a="unsupported",f=r,l=new i.e("error");function c(e){return!e}function h(e){return!!e}var p=new i.e("resolvedAsKeyFacetFacet")},43:function(e,t,n){"use strict";n.d(t,"e",function(){return s});var r=n(150),i=n(214);function s(e,t){void 0===t&&(t={});var n=t.evaluationContext,s=t.publisher;return function(t){var o=s||e,u=t(r.e).edit({selector:e,evaluationContext:n,owner:o}),a=u.result,f=u.changedObservables;t(i.t).queueChangedObservables(f,o);return a}}},51:function(e,t,n){"use strict";n.d(t,"e",function(){return s});n.d(t,"t",function(){return o});var r=n(64),i=0;function s(e,t){var n="".concat(e,"_").concat(++i);return Object(r.e)(t?function(e){return t({type:n,payload:e})}:function(e){return{type:n,payload:e}},{type:n,actionType:void 0,payloadType:void 0,matches:function(e){return!!e&&e.type===n}})}function o(e){return Object(r.e)(function(t){return e(t)},{actionType:void 0,payloadType:void 0})}},58:function(e,t,n){"use strict";n.d(t,"d",function(){return s});n.d(t,"o",function(){return o});n.d(t,"c",function(){return u});n.d(t,"a",function(){return a});n.d(t,"p",function(){return f});n.d(t,"u",function(){return l});n.d(t,"h",function(){return c});n.d(t,"l",function(){return h});n.d(t,"f",function(){return p});n.d(t,"r",function(){return d});n.d(t,"n",function(){return v});n.d(t,"e",function(){return r});n.d(t,"i",function(){return m});n.d(t,"s",function(){return g});n.d(t,"t",function(){return y});var r,i=n(2),s=(new i.e("offlineCache"),new i.e("isTestMode"),new i.e("locale")),o=(new i.e("pruningConfiguration"),new i.e("loginUser"),new i.e("enableFileHoverCard")),u=new i.e("enableShimmeredDetailsList"),a=(new i.e("enableSharePointBackingItems"),new i.e("isFavoritesEnabled"),new i.e("maxParallelImageLoadCount"),new i.e("enableItemCountInFileSizeColumn")),f=new i.e("enablePersistentLayout"),l=new i.e("enableFluentIcons"),c=new i.e("enableTrending"),h=new i.e("enableReadOnly"),p=new i.e("enableItemDetailsRowRenderDebounce"),d=new i.e("enableDetailsListFieldRenderPageLoadBarrier"),v=(new i.e("enableListLoadingSpinner"),new i.e("enableDeleteCancelConfirmationStrings"));new i.e("enableOverrideDeleteFileLocksFacet"),new i.e("enableNewConflictUploadErrorStrings"),new i.e("disableSkipViewportMeasure"),new i.e("disableShimmerBeforePageLoad"),new i.e("enableReactDragDrop"),new i.e("enableActionMemoizationConfigurationFacet"),new i.e("reactDragDrop"),new i.e("reactDragDropRoot");(function(e){e.prod="prod";e.trailblazer="trailblazer";e.pathfinder="pathfinder";e.test="test"})(r||(r={}));new i.e("sharedByMeYouEnabled");var m=new i.e("enableDragDropCopy"),g=(new i.e("enableVerticallyStackedCommands"),new i.e("enableDragDropHoverOpen")),y=(new i.e("enableProgressCalloutLightDismissThrottle"),new i.e("alwaysShowItemSignalsOnHover"),new i.e("enableWiderShareDialog"),new i.e("detailsList2OverscanRatio"));new i.e("backgroundTaskContainerAs")},71:function(e,t,n){"use strict";n.d(t,"t",function(){return s});n.d(t,"e",function(){return o});n.d(t,"n",function(){return u});var r=n(33),i=n(2),s=new i.e("errorHandler"),o=new r.e("configuration",{}).serialize({}),u=new i.e("getItemsBatchThrottle")},78:function(e,t,n){"use strict";n.d(t,"e",function(){return B});n.d(t,"n",function(){return j});n.d(t,"t",function(){return F});var r=n(0),i=n(93),s=n(55),o=n(66),u=n(125),a=n(436),f=n(286),l=n(115),c=n(295),h=n(52),p=n(51),d=n(71),v=n(150),m=Object(u.e)(function(e){return e(v.e).reader.configuration}),g=Object(p.t)(function(e){var t=e.error;return function(e){var n=e(m).read(d.t);n?n(t):window.setTimeout(function(){throw t},0)}}),y=(n(139),n(303)),b=n(62),w=n(296),E=n(521),S=n(95),x=n(43),T=n(26),N=n(267),C=n(45),k=n(56),L=n(2),A=new L.e("telemetryHandlersConfiguration"),O=new L.e("telemetryManager"),M=n(34),_=n(183),D=n(127),P=Object(u.e)(function(e){for(var t=Object(k.t)(),n=e(Object(E.e)({telemetryHandlers:A,logger:M.i,telemetryManager:O})),r=n.telemetryHandlers,i=void 0===r?[]:r,s=n.logger,o=n.telemetryManager,u=0,a=i;u<a.length;u++){a[u].attach(t)}var f=s&&s.logQoSData,l=s&&s.logEngagementData;if(f){var c=new WeakMap;t.addLogHandler(function(e){if(C.e.isTypeOf(e))if(e.eventType===_.e.End){var t=c.get(e.vector);t&&t(e.data)}else e.eventType===_.e.Start&&c.set(e.vector,f(e.data,e.context))})}l&&t.addLogHandler(function(e){D.e.isTypeOf(e)&&e.eventType===_.e.Single&&l(e.data,e.context)});o&&t.addLogHandler(function(e){o.logEvent(e,e.eventType)});return t});function H(e){return function(t){var n=t(P),r=new(C.e.withManager(n))(e);return function(e){return function(t){r.end(e)}}}}function B(e){return Object(u.e)(e())}(function(e){Object(r.r)(t,e);function t(t){var n=e.call(this,t)||this;n.items=t.items;return n}})(h.e);function j(e){void 0===e&&(e={});var t=e.mergeForSameItemKey,n=void 0===t||t,u=e.prioritizeRecent,h=void 0!==u&&u,p=e.maxQueueSize,d=void 0===p?void 0:p,v=Object(r.s)(e,["mergeForSameItemKey","prioritizeRecent","maxQueueSize"]);return function(e){return function(t){var u=t.key,p=Object(i.e)(u),m=p.keyFacet,w=p.operationTypeFacet;return function(t){var i=0,p=!1,E={};function S(){return Object(r.t)(this,void 0,void 0,function(){var e,s,f,l;return Object(r.i)(this,function(r){try{e=t(I(v,u)).maxParallelOperationCount;s=[];t(Object(x.e)(function(r){var f;f=r.getMetaItem(m);for(var l=function(){var r,l=void 0;if(f)l=f.readOperationQueue(w);else{var c=t(Object(a.t)({key:u}));if(!c)return"break";l=c.queue}if(!l||!l.length)return"break";for(var p=[],v=[],m=[],g=function(e){r=r?Object(o.n)(r,{options:e.options}):e;v.push(e.startSignal);m.push(e.completeSignal)},y=h?l.length-1:0;h?y>=0:y<l.length;h?y--:y++){var S=l[y];r?n&&S.itemKey===r.itemKey?g(S):h?p.unshift(S):p.push(S):n&&E[S.itemKey]||g(S)}if(!r)return"break";E[r.itemKey]=!0;i++;s.push({operation:r,startSignals:v,completeSignals:m});var x=[];if(i===e&&"number"==typeof d)for(;p.length>d;){var T=h?p.shift():p.pop();T&&x.push(T)}f?f.patchOperationQueue(w,p):t(Object(a.e)({key:u,queue:p}));if(x.length>0)for(var N=new b.e,C=0,k=x;C<k.length;C++){var L=k[C];L.startSignal.reject(N);L.completeSignal.reject(N)}};i<e;){if("break"===l())break}}));p=!1;for(f=0,l=s;f<l.length;f++)C(l[f])}catch(e){t(g({error:e}))}return[2]})})}function C(o){var a=o.operation,h=o.startSignals,d=o.completeSignals;return Object(r.t)(this,void 0,void 0,function(){var o,b,x,C,k,L,A,O,M,_,D,P,B,j,F,q,R,U=this;return Object(r.i)(this,function(z){switch(z.label){case 0:z.trys.push([0,9,,10]);o=t(I(v,u)),b=o.enableQos,x=o.timeout;for(C=0,k=h;C<k.length;C++)k[C].resolve();L=new s.e,A=L.resolve,O=L.reject,M=L.promise;_=b?t(H({name:"singleOperationHandler.".concat(m.debugName,".").concat(w.debugName)})):void 0;z.label=1;case 1:z.trys.push([1,3,,4]);return[4,Object(y.e)(function(){return Object(r.t)(U,void 0,void 0,function(){return Object(r.i)(this,function(n){return[2,t(e({itemKey:a.itemKey,options:a.options}))]})})},{timeout:x,errorProps:{message:"Timeout for ".concat(m.debugName,".").concat(w.debugName)}})()];case 2:z.sent();_&&t(_({resultType:T.e.Success}));A();return[3,4];case 3:D=z.sent();_&&t(_(Object(N.e)(D)));O(D instanceof Error?D:new l.e({message:"The handler for '".concat(u,"' threw a non-error: ").concat(D)}));return[3,4];case 4:P=t(Object(f.e)({key:u,items:(R={},R[a.itemKey]=[a.options],R)})).completeSignals;for(B=0,j=Object(r.o)(Object(r.o)([],d,!0),P,!0);B<j.length;B++){F=j[B];M.then(F.resolve,F.reject)}n&&delete E[a.itemKey];0;return[4,Promise.resolve()];case 5:z.sent();return[3,8];case 6:return[4,t(c.r)];case 7:z.sent();z.label=8;case 8:i--;if(!p){p=!0;S()}return[3,10];case 9:q=z.sent();t(g({error:q}));return[3,10];case 10:return[2]}})})}return function(){if(!p){p=!0;S()}}}}}}function F(e){var t=this;return function(n){var s=n.key,o=Object(i.e)(s),u=o.keyFacet,f=o.operationTypeFacet;return function(n){var i=!1;return function(){var o;if((o=n(Object(x.e)(function(e){return e.getMetaItem(u).readOperationQueue(f)})))&&o.length>0&&!i){i=!0;Object(r.t)(t,void 0,void 0,function(){var t,o,c;return Object(r.i)(this,function(r){switch(r.label){case 0:r.trys.push([0,2,3,4]);return[4,e()];case 1:if(!(t=r.sent()))throw new Error(w.e);n(Object(a.n)(u,f)(t));return[3,4];case 2:o=r.sent();c=o instanceof Error?o:new l.e({message:w.e});n(Object(x.e)(function(e){var t,r;if(t=e.getMetaItem(u))r=t.readOperationQueue(f);else{var i=n(Object(a.t)({key:s}));i&&(r=i.queue)}if(r&&r.length>0){for(var o=[],l=[],h=0,p=r;h<p.length;h++){var d=p[h];o.push(d.startSignal);l.push(d.completeSignal)}t?t.patchOperationQueue(f,[]):n(Object(a.e)({key:s,queue:[]}));for(var v=0,m=o;v<m.length;v++)m[v].reject(c);for(var g=0,y=l;g<y.length;g++)y[g].reject(c)}}));n(g({error:c}));return[3,4];case 3:i=!1;return[7];case 4:return[2]}})})}}}}}function I(e,t){return function(n){var r=n(Object(E.e)({operationHandler:S.t})).operationHandler,i=void 0===r?{}:r,s=i.defaultTimeout,o=void 0===s?6e4:s,u=i.enableTimeout,a=void 0!==u&&u,f=i.enableQos,l=void 0!==f&&f,c=i.handlers,h=(void 0===c?{}:c)[t],p=void 0===h?{}:h,d=e.timeout,v=void 0===d?o:d,m=e.maxParallelOperationCount,g=void 0===m?1:m,y=e.enableQos,b=void 0===y?l:y,w=p.timeout,x=void 0===w?v:w,T=p.enableQos,N=void 0===T?b:T,C=p.maxParallelOperationCount;return{timeout:a&&x!==1/0?x:void 0,enableQos:N,maxParallelOperationCount:void 0===C?g:C}}}},93:function(e,t,n){"use strict";n.d(t,"t",function(){return u});n.d(t,"e",function(){return a});var r=n(33),i=n(48),s=n(2),o=new r.e("operation",{operationTypeId:i.e,keyFacetId:i.e});function u(e){var t=e.operationTypeFacet,n=e.keyFacet;return o.serialize({operationTypeId:t.id,keyFacetId:n.id})}function a(e){var t=o.deserialize(e),n=t.keyFacetId,r=t.operationTypeId;return{keyFacet:s.e.get(n),operationTypeFacet:s.e.get(r)}}},95:function(e,t,n){"use strict";n.d(t,"e",function(){return a});n.d(t,"n",function(){return f});n.d(t,"t",function(){return l});var r=n(33),i=n(48),s=n(46),o=n(2),u=new r.e("keyFacet",{keyFacetId:i.e});Object(s.e)(function(e){return u.serialize({keyFacetId:e.id})});function a(e){return u.matches(e)}var f=new o.e("preferredKeyFacet"),l=new o.e("operationHandlerConfiguration")},115:function(e,t,n){"use strict";n.d(t,"t",function(){return o});n.d(t,"e",function(){return u});var r=n(0),i=n(2),s=n(52),o=new i.e("noRegisteredHandlerError"),u=(function(e){Object(r.r)(t,e);function t(t){void 0===t&&(t={});return e.call(this,t)||this}return t})(s.e)},121:function(e,t,n){"use strict";n.d(t,"e",function(){return i});n.d(t,"t",function(){return s});n.d(t,"n",function(){return o});var r=n(2),i=new r.e("childItems"),s=(new r.e("schema"),new r.e("defaultChildItemSet")),o=(new r.e("childItemSets"),new r.e("parentItem"));new r.e("parentItemSets"),new r.e("page"),new r.e("pagingMode"),new r.e("filterOptionSets"),new r.e("sort")},125:function(e,t,n){"use strict";n.d(t,"t",function(){return a});n.d(t,"e",function(){return f});var r=n(2),i=n(187),s=n(64),o=new r.e("runOnce"),u=new i.e("runOnce");function a(e){return o.unpack(e)}function f(e){return Object(s.e)(function(t){return t(e)},o.pack(u.serializeNext()))}},143:function(e,t,n){"use strict";n.d(t,"e",function(){return o});n.d(t,"t",function(){return l});var r=n(0),i=n(2),s=n(46),o=(function(e){Object(r.r)(t,e);function t(t,n){var i=e.call(this,"".concat(t,"Control"))||this;i._reducer=function(e,t){return t&&e&&i._memoizer(t)(e)||t||e};i.controlOptions=n;i._memoizer=(function(e){return Object(s.e)(function(t){return Object(s.e)(function(n){function i(i,s){var o=n(i,s),u={},a=Object(r.e)({},s);for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(u[f]=a[f]=o[f]);var c=t(i,a);for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var h=e[f];u[f]=h&&f in o&&h!==l?h.merge(o[f],c[f]):c[f]}return u}i.previous=n;i.current=t;return i})})})(n);return i}Object.defineProperty(t.prototype,"default",{get:function(){return a},enumerable:!1,configurable:!0});t.get=function(e){return i.e.get(e)};t.prototype.unpack=function(e){throw new Error("Not implemented")};t.prototype.pack=function(e){throw new Error("Not implemented")};t.prototype.compose=function(e,t){return this._reducer(e,t)};t.prototype.evaluate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length>0&&this._reducer(f,e.reduce(this._reducer))||f;return n};return t})(i.e),u={};function a(){return u}function f(e,t){return t}var l={merge:function(e,t){return t}}},150:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(125),i=Object(r.e)(function(e){throw new Error("ItemCacheEvaluator initialization should be handled by ItemCacheStore itself")})},154:function(e,t,n){"use strict";n.d(t,"e",function(){return r});var r=new(n(2).e)("getItems")},155:function(e,t,n){"use strict";n.d(t,"e",function(){return o});var r=n(0),i=n(52),s=n(2),o=(function(e){Object(r.r)(t,e);function t(n){var o=this,u=n.innerError,a=u instanceof t?u:void 0,f=u instanceof i.e?u:void 0,l=a?{facets:a.facets}:{},c=n.facets,h=void 0===c?l.facets:c,p=f?f.code:(function(e){if(e)for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],i=s.e.get(r);if(i)return i.debugName}return})(h),d=Object(r.e)(Object(r.e)({},p?{code:p}:{}),n);(o=e.call(this,d)||this).name="ItemOperationError";o.facets=h||Object(s.t)({},{});return o}return t})(i.e)},171:function(e,t,n){"use strict";n.d(t,"e",function(){return G});var r,i=n(33),s=n(71),o="The IItemCache instance may only be used within an invocation of `mapItemCacheToProps` passed to`connectToItemCache`.";(function(e){e[e.read=0]="read";e[e.observe=2]="observe";e[e.demand=3]="demand";e[e.edit=1]="edit"})(r||(r={}));var u=(function(){function e(e){var t=e.dispatch,n=e.evaluationContext,r=e.configuration;this.configuration=r;this._scope={isDisposed:!1};this._owner=e.owner||{};this._evaluator=e.evaluator;this._dispatchBlocker=e.dispatchBlocker;this._dispatch=t;this._why=e.why||f;this._evaluationContext=n||this._evaluator.defaultEvaluationContext;this._mode=void 0}Object.defineProperty(e.prototype,"why",{get:function(){return this._why()},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"dispatch",{get:function(){if(this._scope.isDisposed)throw new Error("Attempted to access the store dispatch on an ItemCache outside of its completed callback. This can cause a memory leak because an ItemCache holds onto stale store state. To obtain the store dispatch, access it during the callback and store it in a local variable.");return this._dispatch},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"evaluationContext",{get:function(){return this._evaluationContext},enumerable:!1,configurable:!0});e.prototype.read=function(e){return this._observeWithMode(e,r.read)};e.prototype.observe=function(e){return this._observeWithMode(e,r.observe)};e.prototype.demand=function(e){return this._observeWithMode(e,r.demand)};e.prototype.edit=function(e){return this._observeWithMode(e,r.edit)};e.prototype.getMode=function(){return this._mode};e.prototype.demandItem=function(e,t,n){void 0===n&&(n={});if(this._scope.isDisposed)throw new Error(o);for(var r={},i=0,s=Object.keys(e);i<s.length;i++){var u=s[i],a=e[u];if(!a)throw new Error("Mapping '".concat(u,"' was not passed a valid Facet or IFacet instance in demandItem."));r[u]=this.demandItemFacet(a,t,n[u])}return r};e.prototype.demandItemFacet=function(e,t,n){void 0===n&&(n={});if(this._scope.isDisposed)throw new Error(o);var r=n.suppressGetItems,u=void 0===r?e instanceof i.e:r;if(t===s.e)return this.configuration.observe(e);var a=this.getItem(t);return u?a.observe(e):a.demand(e)};e.prototype.isItemFacetResolved=function(e,t){if(this._scope.isDisposed)throw new Error(o);return this.getItem(t).observeIsResolved(e)};e.prototype.getMetaItem=function(e){return this._evaluator.getMetaItem(e)};e.prototype.getItem=function(e){return this._evaluator.getItem(e)};e.prototype.deleteItem=function(e){this._evaluator.deleteItem(e)};e.prototype.mapItems=function(e,t){this._evaluator.mapItem(e,t)};e.prototype.moveItemTo=function(e,t){this._evaluator.moveItem(e,t)};e.prototype.queueEditCallback=function(e){void 0===this._editCallbacks&&(this._editCallbacks=[]);this._editCallbacks.push(e)};e.prototype.queueEditCallbacks=function(e){var t;void 0===this._editCallbacks&&(this._editCallbacks=[]);(t=this._editCallbacks).push.apply(t,e)};e.prototype.getEditCallbacks=function(){return this._editCallbacks};e.prototype.trackObservation=function(e){this._observedValues&&this._observedValues.add(e)};e.prototype.getChangedObservables=function(){return this._changedObservables};e.prototype.getObservedValues=function(){return this._observedValues};e.prototype.trackChangedObservable=function(e){this._changedObservables&&this._changedObservables.add(e)};e.prototype.getDemands=function(){return this._demands};e.prototype.dispose=function(){this._scope.isDisposed=!0};e.prototype.registerDemand=function(e,t){this._demands||(this._demands={});var n=this._demands[e];if(void 0===n){n={demands:{}};this._demands[e]=n}n.demands[t]=!0};e.prototype._observeWithMode=function(e,t){var n=this._dispatchBlocker(function(){return new Error("Attempted to invoke the store dispatch within a callback to an IItemCache. This could disrupt the ability to track dependencies and cause unwanted cascading updates. Instead, hold onto dispatch in a local variable and invoke it in an asynchronous callback, such as an event handler, or simply return it from the selector before using it.")}),i=this._evaluator.getActiveItemCacheObserver();this._evaluator.setActiveItemCacheObserver(this);this._mode=t;t===r.edit?this._changedObservables=new Set:t!==r.observe&&t!==r.demand||(this._observedValues=new Set);this._demands=void 0;this._editCallbacks=void 0;try{return e(this)}finally{this._evaluator.setActiveItemCacheObserver(i);n()}};return e})(),a={};function f(){return a}var l,c,h=n(50),p=n(215),d=!!Object(h.t)(),v=(function(){function e(e,t,n,r,i,s){this._value=e;this._evaluator=t;this._observers=void 0;this._onFirstObserver=n;this._onZeroObservers=r;this._valuesAreEqual=s;if(d){this._prevValue=void 0;this._getDebugName=i}}Object.defineProperty(e.prototype,"evaluationContext",{get:function(){},enumerable:!1,configurable:!0});e.prototype.dispose=function(){var e=this;void 0!==this._observers&&this._observers.forEach(function(t){t.removeObservation(e)})};e.prototype.observe=function(){this._evaluator.trackObservation(this);return this._value};e.prototype.get=function(){return this._value};e.prototype.getDebugValue=function(){return this.get()};e.prototype.getPrevDebugValue=function(){return this._prevValue};e.prototype.set=function(e){if(this._valuesAreEqual?!this._valuesAreEqual(this._value,e):e!==this._value){if(d){this._prevValue=this._value;e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype&&Object(p.e)(e)}this._value=e;var t=void 0!==this._observers&&this._observers.size>0;if(t||d){this._evaluator.trackChangedObservable(this);t&&this.markAsChanged()}}};e.prototype.markAsChanged=function(e){var t=this;void 0!==this._observers&&this._observers.forEach(function(e){e.markAsChanged(t)})};e.prototype.notifyObservers=function(){void 0!==this._observers&&this._observers.forEach(function(e){e.notifyObservers()})};e.prototype.addObserver=function(e){void 0===this._observers&&(this._observers=new Set);0===this._observers.size&&this._onFirstObserver&&this._onFirstObserver();this._observers.add(e)};e.prototype.removeObserver=function(e){if(void 0===this._observers)return!1;var t=this._observers.delete(e);t&&0===this._observers.size&&this._onZeroObservers&&this._onZeroObservers();return t};Object.defineProperty(e.prototype,"observerCount",{get:function(){return this._observers&&this._observers.size||0},enumerable:!1,configurable:!0});e.prototype.forObserver=function(e){void 0!==this._observers&&this._observers.forEach(function(t){e(t)})};e.prototype.isResolved=function(){return!0};e.prototype.observeIsResolved=function(){return!0};e.prototype.haveDemandsChanged=function(){return!1};e.prototype.registerDemands=function(){};e.prototype.flushDemands=function(){};e.prototype.getUnresolvedDemands=function(){};e.prototype.markDemandsAsFlushed=function(){};e.prototype.getDebugName=function(){return this._getDebugName&&this._getDebugName()||"ItemCacheValue"};return e})(),m=n(36),g=n(143),y=n(193),b=n(95),w=(function(){function e(e,t){this._onNotify=e;this._onMarkAsChanged=t}e.prototype.markAsChanged=function(){this._onMarkAsChanged&&this._onMarkAsChanged()};e.prototype.removeObservation=function(){return!1};e.prototype.notifyObservers=function(){this._onNotify&&this._onNotify()};e.prototype.getDebugName=function(){return"Subscriber"};e.prototype.forObserver=function(e){};return e})(),E=n(141),S=n(216),x=n(17).e.isActivated("35C1E33F-126C-482D-A8AC-139D319AEAD8","11/17/2022","Reset dirty state after selector disposal"),T=!!Object(h.t)();(function(e){e[e.dependency=0]="dependency";e[e.selector=1]="selector"})(l||(l={}));(function(e){e[e.observe=0]="observe";e[e.demand=1]="demand"})(c||(c={}));var N,C=(function(){function e(e,t,n,r,i,s,o,u,a){void 0===u&&(u=c.demand);var f=this;this._getDemandsDebugName=function(){return f.getDebugName()+" > own demands"};this._getOwnUnresolvedDemandsDebugName=function(){return f.getDebugName()+" > own unresolved demands"};this._getDemandsResolvedDebugName=function(){return f.getDebugName()+" > isResolved"};this._dirty=!1;this._didNotify=!0;this._selector=t;this._observers=void 0;this._observations=new Set;this._computed=void 0;this._evaluator=e;this._evaluationContext=n;this._onFirstObserver=r;this._onZeroObservers=i;this._demandAggregator=this._evaluator.demandAggregator;this._demandsChanged=!1;this._demands=void 0;this._boundToDemandAggregator=!1;this._changedBy=void 0;this._hasQueuedSelectorWithAggregator=!1;this._resultsAreEqual=o;this._mode=u;this._createEvaluationScope=a;if(T){this._prevComputedValue=void 0;this._getDebugName=s}}Object.defineProperty(e.prototype,"selectorFn",{get:function(){return this._selector},enumerable:!1,configurable:!0});e.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=t.notifyImmediately,i=void 0!==r&&r,s=new w(i?void 0:e,i?e:void 0);this.addObserver(s);return function(){n.removeObserver(s)}};e.prototype.subscribeToDemandResolution=function(e,t){void 0===t&&(t={});this._ensureCurrentComputedValue();this._ensureDemandsResolvedState();return this._demandsResolved.subscribe(e,t)};e.prototype.hasChanged=function(){return this._dirty};e.prototype.haveDemandsChanged=function(){return this._demandsChanged};e.prototype.registerDemands=function(){var e=this;if(this._demandsChanged&&this._mode===c.demand){this._ensureOwnUnresolvedDemandsState();this._demandsChanged=!1;if(!this._boundToDemandAggregator){var t=this._demands;if(void 0!==this._ownUnresolvedDemands&&void 0!==t){var n=new w(function(){if(e._hasQueuedSelectorWithAggregator){e._demandAggregator.flushAllDemands();e._hasQueuedSelectorWithAggregator=!1}},function(){if(!e._hasQueuedSelectorWithAggregator){e._demandAggregator.queueSelector(e);e._hasQueuedSelectorWithAggregator=!0}});this._ownUnresolvedDemands.addObserver(n);this._boundToDemandAggregator=!0}}this._ownUnresolvedDemands&&this._ownUnresolvedDemands.markAsChanged();this._observations.forEach(function(e){e.registerDemands()})}};e.prototype.flushDemands=function(){this._ownUnresolvedDemands&&this._ownUnresolvedDemands.notifyObservers();this._observations.forEach(function(e){e.flushDemands()})};e.prototype.getUnresolvedDemands=function(){var e=this._ownUnresolvedDemands;if(e)return e.get()};e.prototype.markDemandsAsFlushed=function(){this._hasQueuedSelectorWithAggregator=!1};Object.defineProperty(e.prototype,"selector",{get:function(){return this._selector},set:function(e){var t=this._selector;this._selector=e;if(t!==e){this.markAsChanged();T&&this._addChangedBy({type:l.selector,getPrevValue:function(){return t},getCurrentValue:function(){return e}})}},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"evaluationContext",{get:function(){return this._evaluationContext},enumerable:!1,configurable:!0});e.prototype.dispose=function(){var e,t,n,r=this;this._observations.forEach(function(e){return e.removeObserver(r)});this._observations=new Set;if(void 0!==this._observers){this._observers.forEach(function(e){e.removeObservation(r)});this._observers=void 0}null===(e=this._demands)||void 0===e||e.dispose();null===(t=this._ownUnresolvedDemands)||void 0===t||t.dispose();null===(n=this._demandsResolved)||void 0===n||n.dispose();this._demandAggregator.unqueueSelector(this);if(!x){this._dirty=!0;this._didNotify=!1}};e.prototype.observe=function(){this._ensureCurrentComputedValue();this._evaluator.trackObservation(this);return this._computed.value};e.prototype.get=function(){this._ensureCurrentComputedValue();return this._computed.value};e.prototype.getDebugValue=function(){return this.get()};e.prototype.getPrevDebugValue=function(){return this._prevComputedValue};e.prototype.markAsChanged=function(e){var t=this;if(!this._dirty){this._dirty=!0;this._didNotify=!1;T&&e&&this._addChangedBy({type:l.dependency,name:e.getDebugName(),getPrevValue:function(){return e.getPrevDebugValue()},getCurrentValue:function(){return e.getDebugValue()}});void 0!==this._observers&&this._observers.forEach(function(e){e.markAsChanged(t)})}};e.prototype.notifyObservers=function(){if(!this._didNotify){this._didNotify=!0;void 0!==this._observers&&this._observers.forEach(function(e){e.notifyObservers()})}};e.prototype.addObserver=function(e){this._ensureCurrentComputedValue();void 0===this._observers&&(this._observers=new Set);0===this._observers.size&&this._onFirstObserver&&this._onFirstObserver();this._observers.add(e)};e.prototype.removeObserver=function(e){if(void 0===this._observers)return!1;var t=this._observers.delete(e);t&&0===this._observers.size&&this._onZeroObservers&&this._onZeroObservers();return t};Object.defineProperty(e.prototype,"observerCount",{get:function(){return this._observers&&this._observers.size||0},enumerable:!1,configurable:!0});e.prototype.forObserver=function(e){void 0!==this._observers&&this._observers.forEach(function(t){e(t)})};e.prototype.isResolved=function(){this._ensureCurrentComputedValue();this._ensureDemandsResolvedState();return this._demandsResolved.get()};e.prototype.observeIsResolved=function(){this._ensureCurrentComputedValue();this._ensureDemandsResolvedState();return this._demandsResolved.observe()};e.prototype.removeObservation=function(e){return this._observations.delete(e)};e.prototype.getDebugName=function(){return this._getDebugName&&this._getDebugName()||"ItemCacheSelector"};e.prototype._computeValue=function(){var e,t,n=this,r=null===(e=this._demands)||void 0===e?void 0:e.get(),i=this._getEvaluationDebugInformationReader(),s={selector:this._selector,owner:this,evaluationContext:this._evaluationContext,why:i},o=this._mode===c.demand?this._evaluator.demand(s):this._evaluator.observe(s),u=o.result,a=o.observedValues,f=o.demands;this._setDemands(f);var l=(null===(t=this._demands)||void 0===t?void 0:t.get())!==r,h=!1;this._observations.forEach(function(e){if(!a.has(e)){e.removeObserver(n);n._observations.delete(e);h=!0;l=!0}});a.forEach(function(e){if(void 0===n._computed||!n._observations.has(e)){e.addObserver(n);n._observations.add(e);h=!0;l=!0}l=l||e.haveDemandsChanged()});if(h&&this._demandsResolved){this._demandsResolved.markAsChanged();this._demandsResolved.observerCount>0&&this._evaluator.trackChangedObservable(this._demandsResolved)}this._demandsChanged=l;return this._resultsAreEqual&&this._computed&&this._resultsAreEqual(this._computed.value,u)?this._computed.value:u};e.prototype._ensureCurrentComputedValue=function(){if(this._dirty||void 0===this._computed){T&&this._computed&&(this._prevComputedValue=this._computed.value);var e=void 0;this._createEvaluationScope&&(e=this._createEvaluationScope());try{this._computed={value:this._computeValue()}}finally{e&&e()}this._changedBy=void 0;this._dirty=!1}};e.prototype._ensureOwnUnresolvedDemandsState=function(){var t=this;void 0===this._ownUnresolvedDemands&&(this._ownUnresolvedDemands=new e(this._evaluator,function(e){void 0===t._demands&&(t._demands=t._createDemandsObservable(void 0));var n=t._demands.observe();return n&&Object(S.e)(e,{items:n}).items},void 0,void 0,void 0,T?this._getOwnUnresolvedDemandsDebugName&&this._getOwnUnresolvedDemandsDebugName:void 0))};e.prototype._ensureDemandsResolvedState=function(){var t=this;void 0===this._demandsResolved&&(this._demandsResolved=new e(this._evaluator,function(e){void 0===t._demands&&(t._demands=t._createDemandsObservable(void 0));var n=t._demands.observe(),r=!n||!Object(S.t)(e,{items:n});t._observations.forEach(function(e){r=r&&e.observeIsResolved()});return r},void 0,void 0,void 0,T?this._getDemandsResolvedDebugName&&this._getDemandsResolvedDebugName:void 0))};e.prototype._addChangedBy=function(e){void 0===this._changedBy&&(this._changedBy=new Set);this._changedBy.add(e)};e.prototype._createDemandsObservable=function(e){return new v(e,this._evaluator,void 0,void 0,T?this._getDemandsDebugName&&this._getDemandsDebugName:void 0,k)};e.prototype._setDemands=function(e){void 0===this._demands?void 0!==e&&(this._demands=this._createDemandsObservable(e)):this._demands.set(e)};e.prototype._getEvaluationDebugInformationReader=function(){var e=this;return T?function(){var t,n={},r=void 0,i=void 0;null===(t=e._changedBy)||void 0===t||t.forEach(function(e){var t=e.getPrevValue&&e.getPrevValue(),n=e.getCurrentValue&&e.getCurrentValue();if(e.type===l.dependency&&e.name){void 0===r&&(r={});r[e.name]={previous:t,next:n}}else e.type===l.selector&&(i={previous:t,next:n})});if(!e._computed){var s=e._selector.props;n.isSelectorNew={selector:e._selector,props:s}}r&&!0!==r&&(n.hasDependencyChanged=r);if(i){n.hasSelectorChanged=i;var o=i.previous,u=i.next;if(o&&u){var a=o.props,f=u.props;if(a&&f){var c=Object(E.e)(a,f,{debug:!0});c&&(n.hasPropChanged=c)}}}return n}:void 0};return e})();function k(e,t){return Object(E.t)(e,t,L)}function L(e,t){return Object(E.t)(e.demands,t.demands)}var A,O=((N={})[b.n.id]=!0,N[m.i.id]=!0,N),M=!!Object(h.t)(),_="Cannot modify an item outside of an edit selector!";(function(e){e[e.read=0]="read";e[e.observe=2]="observe";e[e.demand=3]="demand"})(A||(A={}));var D=(function(){function e(e,t,n){var r=this;this._getMappingDebugName=M?function(){return r._itemKey||"undefined"}:void 0;this._getFacetDebugName=M?function(e){return function(){var t=[];r.mappedKeys.forEach(function(e){t.push(e)});return t.toString()+" > "+e}}:void 0;this._itemKey=e;this._deserializedItemKey=void 0;this._data=new v(t,n,function(){r._activeDependencies++},function(){r._activeDependencies--;r._lastAccessedTime=Date.now()},this._getMappingDebugName);this._evaluator=n;this._computedValues=void 0;this._activeDependencies=0;this._lastAccessedTime=void 0}Object.defineProperty(e.prototype,"mappedKeys",{get:function(){return this.readData().mappedKeys},enumerable:!1,configurable:!0});e.prototype.readData=function(){return this._data.get()};e.prototype.setData=function(e){this._data.set(e)};e.prototype.observeData=function(){return this._data.observe()};e.prototype.dispose=function(){var e;this._data.dispose();null===(e=this._computedValues)||void 0===e||e.forEach(function(e){e.forEach(function(e){e.dispose()})})};e.prototype.readIsResolved=function(e){if(!this._itemKey)return!1;var t=e.id;if(O[t])return!1;if(e instanceof y.e){return this._getComputation(e,A.read).isResolved()}return this.readData().isResolved(e)};e.prototype.observeIsResolved=function(e){if(!this._itemKey)return!1;var t=e.id;if(O[t])return!1;if(e instanceof y.e){return this._getComputation(e,A.demand).observeIsResolved()}return this.observeData().observeIsResolved(e)};e.prototype.read=function(e){return this._observe(e,A.read)};e.prototype.observe=function(e){return this._observe(e,A.observe)};e.prototype.demand=function(e){return this._observe(e,A.demand)};e.prototype.set=function(e,t){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error(_);this.readData().set(e,t);return this};e.prototype.readResolution=function(e){if(void 0!==this._itemKey)return this.readData().getResolution(e)};e.prototype.observeResolution=function(e){if(void 0!==this._itemKey)return this.observeData().observeResolution(e)};e.prototype.setValue=function(e,t){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error(_);this.readData().setValue(e,t);return this};e.prototype.setResolution=function(e,t){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error(_);this.readData().setResolution(e,t);return this};e.prototype.invalidate=function(e,t){void 0===t&&(t=!1);if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error(_);if(this._itemKey){this.readData().invalidate(e,t)}return this};e.prototype.patchLegacyInvalidationTriggers=function(e){this.readData().patchLegacyInvalidationTriggers(e)};e.prototype.mapTo=function(e){this._itemKey&&this._evaluator.mapItem(this._itemKey,e)};e.prototype.moveTo=function(e){this._itemKey&&this._evaluator.moveItem(this._itemKey,e)};e.prototype.delete=function(e){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error(_);e?this.readData().delete(e):this._itemKey&&this._evaluator.deleteItem(this._itemKey)};e.prototype.isGarbageCollectable=function(e){void 0===e&&(e=864e5);var t=this.readData(),n=(this._activeDependencies||0)+(t.activeValues||0),r=this._lastAccessedTime&&t.lastAccessedTime&&Math.max(this._lastAccessedTime,t.lastAccessedTime)||this._lastAccessedTime||t.lastAccessedTime||Date.now();return 0===n&&(!e||r<Date.now()-e)};e.prototype.reset=function(){this.readData().reset()};e.prototype.markAsNeeded=function(){var e=this,t=!1;this._activeDependencies++;return function(){if(!t){e._activeDependencies--;t=!0}}};e.prototype.markAsPermanent=function(){this._activeDependencies++};e.prototype.merge=function(e){var t=this._evaluator.getActiveItemCacheObserver();if(void 0===t)throw new Error(_);var n=e.readData(),r=this.readData();r.mergeFrom(n);var i=r.mappedKeys;n.mappedKeys.forEach(function(e){var n=t.getItem(e);n&&n.setData(r);i.add(e)});n.dispose()};e.prototype.move=function(e){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error(_);var t=e.readData(),n=t.mappedKeys;n.delete(this._itemKey);e.setData(this.readData());this.readData().mappedKeys.add(this._itemKey);0===n.size&&t.dispose()};e.prototype._observe=function(e,t){var n=this._evaluator.getActiveItemCacheObserver();if(n){var r=n.getMode();r&&(t=Math.min(t,r))}return e instanceof g.e?this._observeControl(e,t):e instanceof y.e?this._observeComputedValue(e,t):this._observeValue(e,t)};e.prototype._observeValue=function(e,t){if(void 0!==this._itemKey){var n=(t===A.read?this.readData():this.observeData()).observeValue(e,t);if(void 0===n&&e instanceof i.e&&e.matches(this._itemKey)){void 0===this._deserializedItemKey&&(this._deserializedItemKey=e.deserialize(this._itemKey));n=this._deserializedItemKey}if(t===A.demand){var r=this._evaluator.getActiveItemCacheObserver(),s=e.id;r&&this._itemKey&&!O[s]&&r.registerDemand(this._itemKey,s)}return n}};e.prototype._observeControl=function(e,t){var n=this.observe(b.n)||this._itemKey&&i.e.get(this._itemKey)||void 0;return this._evaluator.observeControlByKeyFacet(n,e,t)};e.prototype._observeComputedValue=function(e,t){var n=this._getComputation(e,t);return t===A.read?n.get():n.observe()};e.prototype._getComputation=function(e,t){var n,r,i=this,s=e.id,o=this._evaluator.getActiveItemCacheObserver(),u=null===(n=null==o?void 0:o.evaluationContext)||void 0===n?void 0:n.contextualControlHandlerManager,a=null===(r=this._computedValues)||void 0===r?void 0:r.get(u),f=e.id+"_"+t.toString(),l=null==a?void 0:a.get(f);if(void 0===l){var h=function(t){return e.compute(t,{itemKey:i._itemKey})};h.selector=e.compute;void 0===this._computedValues&&(this._computedValues=new Map);l=new C(this._evaluator,h,null==o?void 0:o.evaluationContext,function(){i._activeDependencies++},function(){var e;i._activeDependencies--;i._lastAccessedTime=Date.now();null==l||l.dispose();if(a){a.delete(f);0===a.size&&(null===(e=i._computedValues)||void 0===e||e.delete(u))}},M?this._getFacetDebugName&&this._getFacetDebugName(s):void 0,void 0,t===A.demand?c.demand:c.observe);if(void 0===a){a=new Map;this._computedValues.set(u,a)}a.set(f,l)}return l};return e})(),P=n(93),H=n(66),B=n(154),j=n(139),F=n(0);var I=(function(e){Object(F.r)(t,e);function t(t,n){var r=e.call(this)||this;r._demands=t;r._updateCompleteSignals=n;return r}t.prototype.apply=function(e){if(e){var t=(function(e,t){for(var n=void 0,r=[],i=0,s=e.length;i<s;i++){var o=e[i],u=o.completeSignal,a=o.options.demands,f=void 0,l=Object(j.n)(a,t);l!==a&&(f=Object(F.e)(Object(F.e)({},o),{options:Object(F.e)(Object(F.e)({},o.options),{demands:l})}));if(f){n||(n=e.slice(0,i));Object.keys(f.options.demands).length>0?n.push(f):r.push(u)}else n&&n.push(o)}return{newQueue:n||e,workToComplete:r}})(e,this._demands),n=t.newQueue,r=t.workToComplete;this._updateCompleteSignals(r);return n}};return t})(H.t),q=(function(){function e(e,t){this._keyFacet=e;this._evaluator=t;this._controlHandlers=new Map;this._operationHandlers=new Map}e.prototype.dispose=function(){this._controlHandlers.forEach(function(e){e&&e.dispose()});this._operationHandlers.forEach(function(e){var t=e.isRegistered;t&&t.dispose()})};e.prototype.setSupportedFacets=function(e){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error("Cannot modify a meta item outside of an edit selector!");this._supportedFacets=e;var t=Object(j.e)(e.map(function(e){return e.id}),function(){return!0}),n=[];this.patchOperationQueue(B.e,new I(t,function(e){n.push.apply(n,e)}));if(n)for(var r=0,i=n;r<i.length;r++){i[r].resolve()}return this};e.prototype.readSupportedFacets=function(){return this._supportedFacets};e.prototype.observeControlHandler=function(e){var t=e.id,n=this._controlHandlers.get(t);if(this._evaluator.getActiveItemCacheObserver()&&void 0===n){n=new v(void 0,this._evaluator);this._controlHandlers.set(t,n)}return n&&n.observe()};e.prototype.registerControlHandlerFactory=function(e,t){var n=this,r=this._evaluator.getActiveItemCacheObserver();if(void 0===r)throw new Error("Cannot modify a meta item outside of an edit selector!");var i=e.id,s=this._controlHandlers.get(i),o=!1;if(void 0===s){s=new v(void 0,this._evaluator);this._controlHandlers.set(i,s);o=!0}r.queueEditCallback(function(){var i=(0,r.dispatch)(t({keyFacet:n._keyFacet,controlFacet:e}));if(s){s.set(i);o||s.observerCount>0&&n._evaluator.trackChangedObservable(s,!0)}});return this};e.prototype.registerControlHandler=function(e,t){if(void 0===this._evaluator.getActiveItemCacheObserver())throw new Error("Cannot modify a meta item outside of an edit selector!");var n=e.id,r=this._controlHandlers.get(n);if(void 0===r){r=new v(void 0,this._evaluator);this._controlHandlers.set(n,r)}r.set(t);return this};e.prototype.observeHasOperationHandler=function(e){var t=e.id,n=this._operationHandlers.get(t);if(this._evaluator.getActiveItemCacheObserver()&&void 0===n){n={isRegistered:new v(!1,this._evaluator),queue:void 0,operator:void 0};this._operationHandlers.set(t,n)}return(null==n?void 0:n.isRegistered)&&n.isRegistered.observe()||!1};e.prototype.registerLegacyOperationHandler=function(e,t){var n=this,r=this._evaluator.getActiveItemCacheObserver();if(void 0===r)throw new Error("Cannot modify a meta item outside of an edit selector!");var i=e.id,s=Object(P.t)({operationTypeFacet:e,keyFacet:this._keyFacet}),o=this._operationHandlers.get(i);if(void 0===o){o={isRegistered:new v(!0,this._evaluator),queue:void 0,operator:void 0};this._operationHandlers.set(i,o)}else o.isRegistered.set(!0);r.queueEditCallback(function(){var i=r.dispatch(t({key:s,keyFacet:n._keyFacet,operationTypeFacet:e}));o&&(o.operator=i);i()});return this};e.prototype.readOperator=function(e){var t;return null===(t=this._operationHandlers.get(e.id))||void 0===t?void 0:t.operator};e.prototype.patchOperationQueue=function(e,t){var n=this._operationHandlers.get(e.id);n&&this._operationHandlers.set(e.id,Object(H.n)(n,{queue:t}))};e.prototype.readOperationQueue=function(e){var t=this._operationHandlers.get(e.id);return t&&t.queue};e.prototype.forControlHandler=function(e){this._controlHandlers.forEach(function(t,n){var r=t.get();r&&e(r,n)})};return e})(),R=(function(){function e(e){var t=e.configuration;this.configuration=t;this._evaluator=e.evaluator}e.prototype.getItem=function(e){return this._evaluator.getItem(e)};return e})(),U=n(2),z=!!Object(h.t)(),W={},X=(function(){function e(e,t){var n=this;this.getFacetDebugName=z?function(e){return function(){var t=[];n.mappedKeys.forEach(function(e){t.push(e)});return t.toString()+" > "+e}}:void 0;this.facetMap=new Map;var r=new Set;r.add(e);this.mappedKeys=r;this.activeValues=0;this.lastAccessedTime=void 0;this._evaluator=t;if(!e){this.observeValue=function(){};this.isResolved=function(){return!1};this.observeIsResolved=function(){return!1};this.getResolution=function(){};this.set=function(){};this.setValue=function(){};this.setResolution=function(){};this.delete=function(){};this.reset=function(){};this.invalidate=function(){};this.patchLegacyInvalidationTriggers=function(){}}}e.prototype.dispose=function(){this.facetMap.forEach(function(e){var t,n;null===(t=e.value)||void 0===t||t.dispose();null===(n=e.resolution)||void 0===n||n.dispose()})};e.prototype.observeValue=function(e,t){var n=e.id,r=this.facetMap,i=r.get(n),s=t===A.read;if(void 0===i||void 0===i.value){if(this._evaluator.getActiveItemCacheObserver()&&!s){var o=W;if(void 0===i){i={value:this._createFacetValue(o,n),resolution:void 0};r.set(n,i)}else i.value=this._createFacetValue(o,n)}}var u=i&&i.value,a=s?null==u?void 0:u.get():null==u?void 0:u.observe();if(a!==W)return a};e.prototype.isResolved=function(e){var t,n=e.id,r=this.facetMap.get(n),i=null===(t=null==r?void 0:r.resolution)||void 0===t?void 0:t.get();return Object(m.n)(i)};e.prototype.observeIsResolved=function(e){var t,n=e.id,r=this.facetMap,i=r.get(n);if(this._evaluator.getActiveItemCacheObserver())if(void 0===i){i={value:void 0,resolution:this._createFacetResolution(m.e.unresolved,n)};r.set(n,i)}else void 0===i.resolution&&(i.resolution=this._createFacetResolution(m.e.unresolved,n));var s=null===(t=null==i?void 0:i.resolution)||void 0===t?void 0:t.observe();return Object(m.n)(s)};e.prototype.getResolution=function(e){var t,n=e.id,r=this.facetMap.get(n);return r&&(null===(t=r.resolution)||void 0===t?void 0:t.get())};e.prototype.observeResolution=function(e){var t=e.id,n=this.facetMap,r=n.get(t);if(this._evaluator.getActiveItemCacheObserver()&&(void 0===r||void 0===r.resolution))if(void 0===r){r={value:void 0,resolution:this._createFacetResolution(m.e.unresolved,t)};n.set(t,r)}else r.resolution=this._createFacetResolution(m.e.unresolved,t);var i=r&&r.resolution,s=null==i?void 0:i.observe();if(s!==W)return s};e.prototype.set=function(e,t){var n=e.id,r=this.facetMap,i=r.get(n),s=m.e.resolved;if(void 0===i){i={value:this._createFacetValue(t,n),resolution:this._createFacetResolution(s,n)};r.set(n,i)}else{void 0===i.value?i.value=this._createFacetValue(t,n):i.value.set(t);void 0===i.resolution?i.resolution=this._createFacetResolution(s,n):i.resolution.set(s)}};e.prototype.setValue=function(e,t){var n=e.id,r=this.facetMap,i=r.get(n);if(void 0===i){i={value:this._createFacetValue(t,n),resolution:void 0};r.set(n,i)}else void 0===i.value?i.value=this._createFacetValue(t,n):i.value.set(t)};e.prototype.setResolution=function(e,t){var n=e.id,r=this.facetMap,i=r.get(n);if(void 0===i){i={value:void 0,resolution:this._createFacetResolution(t,n)};r.set(n,i)}else void 0===i.resolution?i.resolution=this._createFacetResolution(t,n):i.resolution.set(t)};e.prototype.delete=function(e){var t,n,r,i=this.facetMap,s=i.get(e.id),o=!1;if(s){if(s.value&&s.value.observerCount>0){s.value.set(W);o=!0}else null===(t=s.value)||void 0===t||t.dispose();if(s.resolution&&s.resolution.observerCount>0){s.resolution.set(m.e.unresolved);o=!0}else null===(n=s.resolution)||void 0===n||n.dispose();null===(r=s.resolution)||void 0===r||r.dispose()}o||i.delete(e.id)};e.prototype.reset=function(){this.facetMap.forEach(function(e){var t=e.resolution;t&&t.get()===m.e.failed&&t.set(m.e.unresolved)});this.delete(m.i);this.delete(m.t)};e.prototype.invalidate=function(e,t){void 0===t&&(t=!1);var n=this._evaluator.getActiveItemCacheObserver(),r=e.id,i=this._invalidation;this.setResolution(e,m.e.unresolved);this.setValue(m.i,void 0);if(n&&i&&!t){var s=i.triggers,o=s[r];if(o){delete s[r];var u=o.targets,a=o.callbacks;if(u)for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var l=u[f];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&l[c]&&n.getItem(f).invalidate(U.e.get(c),t)}a&&a.length>0&&n.queueEditCallback(function(){for(var e=n.dispatch,t=0,r=a;t<r.length;t++){e((0,r[t])())}})}}};e.prototype.patchLegacyInvalidationTriggers=function(e){this._invalidation=Object(H.n)(this._invalidation||{triggers:{}},e)};e.prototype.mergeFrom=function(e){var t=this;e.facetMap.forEach(function(e,n){var r,i=null===(r=e.value)||void 0===r?void 0:r.get();i!==W&&t.set(U.e.get(n),i)})};e.prototype.forFacet=function(e){this.facetMap.forEach(function(t,n){var r,i,s=null===(r=t.value)||void 0===r?void 0:r.get(),o=null===(i=t.resolution)||void 0===i?void 0:i.get(),u=s===W,a=void 0===o;if(!(u&&a)){var f={debugName:U.e.get(n).debugName};u||(f.value=s);a||(f.resolution=(function(e){return e===m.e.unresolved?"unresolved":e})(o));e(f,n)}})};e.prototype._createFacetValue=function(e,t){var n=this;return this._createFacetItemCacheValue(e,t,function(){n.activeValues++},function(){n.activeValues--;n.lastAccessedTime=Date.now();var e=n.facetMap,r=e.get(t),i=null==r?void 0:r.value,s=null==r?void 0:r.resolution;if(r&&i&&i.get()===W){i.dispose();r.value=void 0;void 0===s&&e.delete(t)}})};e.prototype._createFacetResolution=function(e,t){var n=this;return this._createFacetItemCacheValue(e,t,function(){n.activeValues++},function(){n.activeValues--;n.lastAccessedTime=Date.now();var e=n.facetMap,r=e.get(t),i=null==r?void 0:r.value,s=null==r?void 0:r.resolution;if(r&&s&&Object(m.r)(s.get())){s.dispose();r.resolution=void 0;void 0===i&&e.delete(t)}})};e.prototype._createFacetItemCacheValue=function(e,t,n,r){return new v(e,this._evaluator,n,r,z?this.getFacetDebugName&&this.getFacetDebugName(t):void 0)};return e})();var V=!!Object(h.t)(),$=0,J=(function(){function e(e,t,n){var r=this;this._getControlFacetDebugName=V?function(e){return function(){return"contextual control handler "+r._id+" > "+e}}:void 0;this._getMergedControlFacetDebugName=V?function(e){return function(){return"composed contextual control handler "+r._id+" > "+e}}:void 0;this._id=$++;this._parentManager=n;this._mergedControlHandlers=void 0;this._values=void 0;this._evaluator=t;if(void 0!==e){this._inverseFacetMapping={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];this._inverseFacetMapping[s.id]=i}}else this._inverseFacetMapping=void 0}e.prototype.dispose=function(){var e,t,n=this;null===(e=this._ownControlHandlers)||void 0===e||e.forEach(function(e){e&&e.dispose()});null===(t=this._mergedControlHandlers)||void 0===t||t.forEach(function(e,t){e&&n._parentManager&&n._hasOwn(t)&&e.dispose()})};e.prototype.hasOwn=function(e){return this._hasOwn(e.id)};e.prototype.getParent=function(){return this._parentManager};e.prototype.setValues=function(e){var t,n=this;if(e!==this._values){this._values=e;null===(t=this._ownControlHandlers)||void 0===t||t.forEach(function(t,r){if(t){var i=e[n._getValueKeyFromFacet(r)];t.set(i)}})}};e.prototype.createChildManager=function(t){void 0===t&&(t=void 0);return new e(t,this._evaluator,this)};e.prototype.observe=function(e){var t=this.getMergedControlHandler(e);return null==t?void 0:t.observe()};e.prototype.notifyObservers=function(){var e;null===(e=this._mergedControlHandlers)||void 0===e||e.forEach(function(e,t){e&&e.notifyObservers()})};e.prototype.getMergedControlHandler=function(e){var t,n=this;void 0===this._mergedControlHandlers&&(this._mergedControlHandlers=new Map);var r,i=e.id;if(this._mergedControlHandlers.has(i))r=this._mergedControlHandlers.get(i);else{if(void 0===this._parentManager)r=this._hasOwn(i)?this._getOwnItemCacheValue(e):void 0;else if(this._hasOwn(i)){r=new C(this._evaluator,function(t){var r=n._parentManager&&n._parentManager.observe(e),i=n._observeOwn(e);return r&&e.compose(i,r)||i},void 0,void 0,function(){null==r||r.dispose();n._mergedControlHandlers&&n._mergedControlHandlers.delete(i)},V?this._getMergedControlFacetDebugName&&this._getMergedControlFacetDebugName(i):void 0)}else r=null===(t=this._parentManager)||void 0===t?void 0:t.getMergedControlHandler(e);this._mergedControlHandlers.set(i,r)}return r};e.prototype._hasOwn=function(e){return void 0===this._inverseFacetMapping||!!this._inverseFacetMapping[e]};e.prototype._getOwnItemCacheValue=function(e){void 0===this._ownControlHandlers&&(this._ownControlHandlers=new Map);var t=e.id,n=this._ownControlHandlers.get(t);if(void 0===n){var r=this._getValueKeyFromFacet(t);n=new v(this._values&&this._values[r],this._evaluator,void 0,void 0,V?this._getControlFacetDebugName&&this._getControlFacetDebugName(t):void 0);this._ownControlHandlers.set(t,n)}return n};e.prototype._observeOwn=function(e){return this._getOwnItemCacheValue(e).observe()};e.prototype._getValueKeyFromFacet=function(e){return void 0!==this._inverseFacetMapping?this._inverseFacetMapping[e]:e};return e})();var K=Object(h.t)(),Q=!!K,G=(function(){function e(e,t,n,r){var i=this;this._getControlFacetDebugName=Q?function(e,t){return function(){return(e?e+" > ":"")+t}}:void 0;this._getItemCacheStoreState=function(){return{itemMap:i._itemMap,metaItemMap:i._metaItemMap}};this.dispatch=e;this.dispatchBlocker=t;this.defaultEvaluationContext=(function e(t,n){return{contextualControlHandlerManager:n,createChildEvaluationContext:function(r,i){var s=n?n.createChildManager(r):t.createContextualControlHandlerManager(r);s.setValues(i);return{evaluationContext:e(t,s),update:function(e){s.setValues(e);e!==i&&s.notifyObservers();i=e},dispose:function(){s.dispose()}}}}})(this,void 0);this._activeObserver=void 0;this._storeUpdateBatcher=r;this._metaItemMap=new Map;this._itemMap=new Map;this._controls=new Map;this.demandAggregator=n;this.configuration=new D(s.e,new X(s.e,this),this);null==K||K.registerItemCacheStore(this,this._getItemCacheStoreState)}e.prototype.dispose=function(){this._itemMap.forEach(function(e,t){e.dispose()});this._metaItemMap.forEach(function(e,t){e.dispose()});this.configuration.dispose();null==K||K.unregisterItemCacheStore(this)};Object.defineProperty(e.prototype,"reader",{get:function(){void 0===this._reader&&(this._reader=new R({configuration:this.configuration,evaluator:this}));return this._reader},enumerable:!1,configurable:!0});e.prototype.read=function(e){var t,n=e.selector,r=e.evaluationContext,i=new u({dispatch:this.dispatch,evaluator:this,dispatchBlocker:this.dispatchBlocker,configuration:this.configuration,evaluationContext:r});try{t=i.read(n)}finally{i.dispose()}return t};e.prototype.observe=function(e){var t,n=e.selector,r=e.owner,i=e.evaluationContext,s=e.why,o=new u({dispatch:this.dispatch,owner:r,evaluator:this,dispatchBlocker:this.dispatchBlocker,configuration:this.configuration,evaluationContext:i,why:s});try{t={result:o.observe(n),observedValues:o.getObservedValues()||new Set}}finally{o.dispose()}return t};e.prototype.demand=function(e){var t,n=e.selector,r=e.owner,i=e.evaluationContext,s=e.why,o=new u({dispatch:this.dispatch,owner:r,evaluator:this,dispatchBlocker:this.dispatchBlocker,configuration:this.configuration,evaluationContext:i,why:s});try{t={result:o.demand(n),observedValues:o.getObservedValues()||new Set,demands:o.getDemands()}}finally{o.dispose()}return t};e.prototype.edit=function(e){var t,n=e.selector,r=e.owner,i=e.evaluationContext,s=new u({dispatch:this.dispatch,owner:r,evaluator:this,dispatchBlocker:this.dispatchBlocker,configuration:this.configuration,evaluationContext:i});try{t={result:s.edit(n),changedObservables:s.getChangedObservables()||new Set};var o=s.getEditCallbacks();if(o)for(var a=0,f=o;a<f.length;a++){(0,f[a])()}}finally{s.dispose()}return t};e.prototype.createItemCacheSelector=function(e,t){void 0===t&&(t={});var n=t.evaluationContext,r=t.debugName,i=t.suppressGetItems,s=void 0!==i&&i,o=t.createEvaluationScope;return new C(this,e,n,void 0,void 0,Q&&r?function(){return r}:void 0,void 0,s?c.observe:c.demand,o)};e.prototype.createContextualControlHandlerManager=function(e){void 0===e&&(e=void 0);return new J(e,this,void 0)};e.prototype.trackObservation=function(e){this._activeObserver&&this._activeObserver.trackObservation(e)};e.prototype.trackChangedObservable=function(e,t){void 0===t&&(t=!1);this._activeObserver?this._activeObserver.trackChangedObservable(e):t&&this._storeUpdateBatcher.queueChangedObservable(e);null==K||K.notifyItemCacheStoreUpdate(this)};e.prototype.setActiveItemCacheObserver=function(e){this._activeObserver=e};e.prototype.getActiveItemCacheObserver=function(){return this._activeObserver};e.prototype.getMetaItem=function(e){var t=e.id,n=this._metaItemMap.get(t);if(void 0===n){n=new q(e,this);this._metaItemMap.set(t,n)}return n};e.prototype.getItem=function(e){var t=this._itemMap.get(e);if(void 0===t){t=new D(e,new X(e,this),this);this._itemMap.set(e,t)}return t};e.prototype.mapItem=function(e,t){if(void 0===this.getActiveItemCacheObserver())throw new Error("Cannot map items outside of an edit selector!");var n=this._itemMap.get(e),r=this._itemMap.get(t);if(t)if(n&&r)n.readData()!==r.readData()&&r.merge(n);else if(n){var i=n.readData();i.mappedKeys.add(t);this._itemMap.set(t,new D(t,i,this))}else if(r){var s=r.readData();s.mappedKeys.add(e);this._itemMap.set(e,new D(e,s,this))}else{var o=new X(e,this);o.mappedKeys.add(t);var u=new D(e,o,this);this._itemMap.set(e,u);var a=new D(t,o,this);this._itemMap.set(t,a)}else n&&this._deleteAllMappedItems(n)};e.prototype.moveItem=function(e,t){if(void 0===this.getActiveItemCacheObserver())throw new Error("Cannot move items outside of an edit selector!");var n=this._itemMap.get(e),r=this._itemMap.get(t);if(t)if(n&&r)n.readData()!==r.readData()&&r.move(n);else if(n){(u=new D(t,new X(t,this),this)).move(n);this._itemMap.set(t,u)}else if(r){var i=r.readData(),s=new D(e,i,this);i.mappedKeys.add(e);this._itemMap.set(e,s)}else{var o=new X(e,this);o.mappedKeys.add(t);s=new D(e,o,this);this._itemMap.set(e,s);var u=new D(t,o,this);this._itemMap.set(t,u)}else this._deleteItem(e)};e.prototype.deleteItem=function(e){this._deleteItem(e)};e.prototype.performGarbageCollection=function(e){var t=this;void 0===e&&(e={});var n=e.minAge;this._itemMap.forEach(function(e,r){e.isGarbageCollectable(n)&&t._deleteItem(r,e)})};e.prototype.observeControlByKeyFacet=function(e,t,n){var r,i=this,s=t.id,o=this.getActiveItemCacheObserver(),u=o&&(null===(r=o.evaluationContext)||void 0===r?void 0:r.contextualControlHandlerManager),a=this._controls.get(u);if(void 0===a){a=new Map;this._controls.set(u,a)}var f=n===A.read,l=s+(e&&e.id?"|"+e.id:""),h=a.get(l);if(void 0===h){var p=function(n){var r=e&&n.getMetaItem(e)||void 0,i=null==u?void 0:u.observe(t),s=r&&r.observeControlHandler(t);return t.compose(s,i)};if(f)return this.read({selector:p});h=new C(this,p,void 0,void 0,function(){null==h||h.dispose();var e=i._controls.get(u);if(e){e.delete(l);0===e.size&&i._controls.delete(u)}},Q?this._getControlFacetDebugName&&this._getControlFacetDebugName(e&&e.id,s):void 0,void 0,n===A.demand?c.demand:c.observe);a.set(l,h)}return h&&(f?h.get():h.observe())};e.prototype.forItem=function(e){this._itemMap.forEach(e)};e.prototype._deleteItem=function(e,t){if(t=t||this._itemMap.get(e)){var n=t.readData(),r=n.mappedKeys;r.size<=1?n.dispose():r.delete(e);t.dispose();this._itemMap.delete(e);return!0}return!1};e.prototype._deleteAllMappedItems=function(e){var t=this;e.readData().mappedKeys.forEach(function(e){t._itemMap.delete(e)});e.dispose()};return e})()},181:function(e,t,n){"use strict";n.d(t,"e",function(){return y});n.d(t,"t",function(){return b});var r=n(0),i=n(154),s=n(306),o=n(2),u=n(78),a=n(436),f=n(380),l=n(186),c=n(187),h=n(193),p=n(64),d=new c.e("deferredControlHandler"),v=new o.e("isLoaded"),m=new h.e("loader",function(e,t){return{loader:void 0}}),g=Object(u.e)(function(){return function(e){e(Object(a.n)(d,i.e)(Object(u.n)({maxParallelOperationCount:16})(E)))}});function y(){return function(e){return Object(p.e)(function(t){return function(n){return n(e(t))}},{isFactory:!0})}}function b(e){return y()(function(t){var n=this;return function(i){return i(w(function(){return Object(r.t)(n,void 0,void 0,function(){var n;return Object(r.i)(this,function(r){switch(r.label){case 0:return[4,e()];case 1:n=r.sent();return[2,i(n(t))]}})})}))}})}function w(e){var t=this;return function(n){var i,s;n(g);var o=d.serializeNext(),u={operation:w,loadControlHandler:e};n(Object(f.e)({owner:u,items:(i={},i[o]={},i)}));var a=n(Object(l.e)(function(e){return e.demandItemFacet(m,o)}));a&&(a.loader=function(){return Object(r.t)(t,void 0,void 0,function(){var t;return Object(r.i)(this,function(r){switch(r.label){case 0:r.trys.push([0,,2,3]);return[4,e()];case 1:t=r.sent();s=t;return[3,3];case 2:n(Object(f.n)({owner:u}));return[7];case 3:return[2]}})})});return function(e,t){if(s)return s(e,t);e.demandItemFacet(v,o);return{}}}}function E(e){var t=this,n=e.itemKey;return function(i){return Object(r.t)(t,void 0,void 0,function(){var t,o,u;return Object(r.i)(this,function(r){switch(r.label){case 0:t=i(Object(l.e)(function(e){return e.demandItemFacet(m,n)}));if(!(o=t&&t.loader))throw new Error("An async control handler is being loaded but was never registered.");return[4,o()];case 1:r.sent();i(Object(s.e)({items:(u={},u[e.itemKey]=v.pack(!0),u)}));return[2]}})})}}},182:function(e,t,n){"use strict";n.d(t,"t",function(){return u});n.d(t,"e",function(){return a});var r=n(194),i=n(523),s=Object(i.e)("storeUpdate.count"),o=Object(i.e)("storeUpdate",{dependentCounter:s}),u=new(n(2).e)("storeNotifier");function a(){var e=null,t=0;return function(n,i){void 0===i&&(i={});var s=i.urgent;function u(){e=null;var i=++t,u="ItemCache.Update(".concat(i,")").concat(s?" (Forced)":""),a="".concat(u," (start)"),f="".concat(u," (end)");Object(r.e)(a,!0);var l=Object(r.n)();n();var c=Object(r.n)()-l;Object(r.e)(f,!0);o.add(c);Object(r.t)(u,a,f,!0)}if(s){if(null!==e){window.clearTimeout(e);e=null}u()}else null===e&&(e=window.setTimeout(u,0))}}},186:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(150);function i(e,t){void 0===t&&(t={});var n=t.evaluationContext;return function(t){return t(r.e).read({selector:e,evaluationContext:n})}}},187:function(e,t,n){"use strict";n.d(t,"e",function(){return s});var r=n(0),i=n(122),s=(function(e){Object(r.r)(t,e);function t(t){var n=e.call(this,t,{id:i.e})||this;n._lastId=0;return n}t.prototype.next=function(){return{id:++this._lastId}};t.prototype.serializeNext=function(){return this.serialize(this.next())};return t})(n(33).e)},190:function(e,t,n){"use strict";n.d(t,"e",function(){return r});var r=new(n(187).e)("progressBatch")},193:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(0),i=(function(e){Object(r.r)(t,e);function t(t,n){var r=e.call(this,t)||this;r.compute=n;return r}return t})(n(2).e)},194:function(e,t,n){"use strict";n.d(t,"n",function(){return i});n.d(t,"e",function(){return o});n.d(t,"t",function(){return u});var r="undefined"!=typeof window?window.performance:void 0;function i(){try{if(r&&r.now)return Math.round(performance.now())}catch(e){}return Date.now()}function s(e,t){void 0===t&&(t=!0);return t&&0!==e.lastIndexOf("".concat("EUPL","."))?"".concat("EUPL",".").concat(e):e}function o(e,t){try{r&&r.mark&&r.mark(s(e,t))}catch(e){}}function u(e,t,n,i){try{r&&r.measure&&r.measure(s(e,i),s(t,i),s(n,i))}catch(e){}}},197:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(2),i=new r.e("invalidation");new r.e("resolved")},203:function(e,t,n){"use strict";n.d(t,"e",function(){return i});n.d(t,"t",function(){return s});var r=n(2),i=new r.e("currentItem"),s=(new r.e("currentSelection"),new r.e("selectedItems"),new r.e("isSelectionModal"),new r.e("availableLayouts"),new r.e("layoutType"),new r.e("preferredLayoutVersion"),new r.e("defaultLayoutType"),new r.e("preferredLayout"),new r.e("hasLayout"),new r.e("groupsCollapsed"),new r.e("allGroupsCollapsed"),new r.e("startItemIndexInView"),new r.e("pendingNavigation"))},214:function(e,t,n){"use strict";n.d(t,"e",function(){return u});n.d(t,"t",function(){return a});var r=n(125),i=n(55),s=n(50),o=Object(s.t)(),u=(function(){function e(e){var t=this;this._notify=function(){var e=t._nextStoreUpdateSignal;t._nextStoreUpdateSignal=new i.e;e.resolve();t._notifyObservers()};this._queuedChangedObservables=[];this._storeNotifier=e;this._nextStoreUpdateSignal=new i.e;this._independentlyChangedObservables=void 0;this._queuedPublishers=o?[]:void 0}e.prototype.queueChangedObservable=function(e){if(void 0===this._independentlyChangedObservables){this._independentlyChangedObservables=new Set;this._queuedChangedObservables.push(this._independentlyChangedObservables);this._queuedPublishers&&this._queuedPublishers.push(void 0);this._queueNotify()}this._independentlyChangedObservables.add(e)};e.prototype.queueChangedObservables=function(e,t){if(e.size>0){this._queuedChangedObservables.push(e);this._queuedPublishers&&this._queuedPublishers.push(t);this._queueNotify()}};e.prototype.waitForNextStoreUpdate=function(){this._queueNotify();return this._nextStoreUpdateSignal.promise};e.prototype.forceNotify=function(){this._queueNotify({urgent:!0})};e.prototype._queueNotify=function(e){this._storeNotifier(this._notify,e)};e.prototype._notifyObservers=function(){var e=this._queuedChangedObservables;if(e.length>0){this._queuedChangedObservables=[];this._independentlyChangedObservables=void 0;this._queuedPublishers&&(null==o||o.log({type:"changedObservables",timestamp:performance.now(),details:{changedObservables:e,publishers:this._queuedPublishers}}));this._queuedPublishers=o?[]:void 0;for(var t=0,n=e;t<n.length;t++){n[t].forEach(function(e){e.notifyObservers()})}}};return e})(),a=Object(r.e)(function(e){throw new Error("StoreUpdateBatcher initialization should be handled by ItemCacheStore itself")})},216:function(e,t,n){"use strict";n.d(t,"t",function(){return f});n.d(t,"e",function(){return l});var r=n(154),i=n(36),s=n(95),o=n(33),u=n(2),a={items:{}};function f(e,t){for(var n=t.items,r=0,u=Object.keys(n);r<u.length;r++){var a=u[r],f=e.getItem(a),l=f.observe(i.i),p=f.observe(s.n)||o.e.get(a),d=n[a].demands;if(l!==p)for(var v=e.getMetaItem(p),m=0,g=Object.keys(d);m<g.length;m++){var y=g[m];if(y!==s.n.id&&c(y,f,v)&&h(y,v))return!0}}return!1}function l(e,t){for(var n=t.items,r=!1,u=!0,f={},l=0,p=Object.keys(n);l<p.length;l++){var d=p[l];if(Object(s.e)(d)){r=!0;u=!1}else{var v=e.getItem(d),m=v.observe(i.i),g=v.observe(s.n)||o.e.get(d),y=n[d].demands,b=!1,w=!0,E={};if(m!==g)for(var S=e.getMetaItem(g),x=0,T=Object.keys(y);x<T.length;x++){var N=T[x];if(N!==s.n.id&&c(N,v,S)&&h(N,S)){b=!0;E[N]=!0}else w=!1}if(b){r=!0;w||(u=!1);f[d]=w?n[d]:{demands:E}}else u=!1}}return r?u?t:{items:f}:a}function c(e,t,n){var s=null==t?void 0:t.observeResolution(u.e.get(e));return!!Object(i.r)(s)&&n.observeHasOperationHandler(r.e)}function h(e,t){var n=t.readSupportedFacets(),r=u.e.get(e);return!n||!!r&&n.indexOf(r)>-1}},237:function(e,t,n){"use strict";n.d(t,"e",function(){return d});var r=n(0),i=n(43),s=n(93),o=n(55),u=n(33),a=n(438),f=n(2),l=n(155),c=n(115),h=n(176),p=n(255);function d(e){var t=e.items,n=e.preferredItemKeys,d=void 0===n?{}:n,v=e.enqueueOperations,m=e.flushOperationQueue,g=e.operationTypeFacet;return function(e){var n={},y=[],b=[],w={},E=[];function S(){for(var t=0,n=E;t<n.length;t++){var r=n[t].readOperator(g);r&&e(r)}}e(Object(i.e)(function(e){for(var i=0,h=Object.keys(t);i<h.length;i++){var m=h[i],S=t[m],x=d[m]||Object(p.e)(e,{itemKey:m});if(x){var T=u.e.get(x),N=T&&T.id;if((D=e.getMetaItem(T)).readOperator(g)){var C=n[N];C||(C=n[N]=[]);var k=new o.e,L=new o.e;L.promise.then(k.resolve,k.reject);w[m]={started:k.promise,completed:L.promise,preferredItemKey:x};y.push(k.promise);b.push(L.promise);C.push({itemKey:x,startSignal:k,completeSignal:L,options:S})}else{var A=Promise.resolve(void 0),O=Promise.reject(new l.e({message:"There is no operation handler registered for operation type '".concat(g.id,"' of key facet '").concat(N,"'."),isExpected:!0,facets:Object(r.e)({},c.t.pack(Object(s.t)({operationTypeFacet:g,keyFacet:T})))}));w[m]={started:A,completed:O,preferredItemKey:x};y.push(A);b.push(O)}}}for(var M=0,_=Object.keys(n);M<_.length;M++){N=_[M];var D=e.getMetaItem(f.e.get(N)),P=v?v(D&&D.readOperationQueue(g)||[],n[N]):new a.e(n[N]);D.patchOperationQueue(g,P);E.push(D)}}));m?S():Promise.resolve().then(function(){S()});return{started:Promise.race(y).then(function(){}),completed:Object(h.e)(b).then(function(){}),items:w}}}},255:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(95);function i(e,t){var n=t.itemKey,i=e.demandItemFacet(r.n,n);if(!i)return n;var s=e.demandItemFacet(i,n);return s&&i.serialize(s)||n}},273:function(e,t,n){"use strict";n.d(t,"e",function(){return L});n.d(t,"n",function(){return A});n.d(t,"t",function(){return O});n.d(t,"r",function(){return M});var r=n(0),i=n(55),s=n(306),o=n(154),u=n(34),a=n(186),f=n(521);var l=n(194),c=n(2),h=n(33),p=n(380),d=n(71),v=n(78),m=n(436),g=n(51),y=n(43),b=(Object(g.t)(function(e){var t=e.items;return function(e){e(Object(y.e)(function(e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){e.getItem(n).delete()}}))}}),n(62)),w=n(203),E=n(524),S=n(36),x=new h.e("pageLoad",{}),T=x.serialize({}),N=new c.e("pageLoadSignal"),C=Object(v.e)(function(){return function(e){e(Object(s.t)({keyFacet:x,facets:[u.e]}));e(Object(m.n)(x,o.e)(Object(v.n)()(_)))}});function k(){return function(e){var t=(e(Object(f.e)({pageLoadConfiguration:u.s})).pageLoadConfiguration||{}).enablePageLoadBarrier;return void 0!==t&&t}}function L(e){return e.demandItemFacet(S.t,T,{suppressGetItems:!0})}function A(e,t){var n=this;return function(s){return Object(r.t)(n,void 0,void 0,function(){var n,o,c,h,v,m,g,y,b,x,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J;return Object(r.i)(this,function(K){switch(K.label){case 0:s(C);n=s(Object(a.e)(function(t){return{pageLoadSignal:t.demandItemFacet(N,T),hasPageLoaded:t.demandItemFacet(u.e,T),pageLoadConfiguration:t.demandItemFacet(u.s,d.e),pendingNavigation:t.demandItemFacet(w.t,e),logger:t.demandItemFacet(u.i,d.e)}})),o=n.pageLoadSignal,c=n.hasPageLoaded,h=n.pageLoadConfiguration,v=n.pendingNavigation,m=n.logger;y=(g=h||{}).onBeforePageLoad,b=void 0===y?void 0:y,x=g.pageLoadReadySignal,k=void 0===x?void 0:x,L=g.pageLoadContinueSignal,A=void 0===L?void 0:L;M=(O=t||{}).endTime,_=void 0===M?void 0:M,D=O.error,P=void 0===D?void 0:D,H=O.startProps;B=(m||{}).continueLoggingAfterPLT,j=void 0!==B&&B;F=(v||{}).isNavigating,I=void 0!==F&&F;q=j||I?_||Object(l.n)():void 0;R=s(Object(a.e)(function(t){return{ScopeInitTime:t.demandItemFacet(u.r,e)}})).ScopeInitTime,U=void 0===R?NaN:R;!P&&q&&s((function(e,t){return function(n){var r=n(Object(f.e)({logger:u.i})).logger;if(e){var i=u.n.serialize({}),s=n(Object(a.e)(function(e){return e.demandItemFacet(u.t,i)}));s&&s(e,t);r&&r.logRenderEndTime&&r.logRenderEndTime(e,t)}}})(q,{isFullPageLoad:!c,keyChanges:H?{currentItemKey:H.itemKey,previousItemKey:H.previousItemKey}:void 0,itemsScopeItemKey:e,itemsScopeInitTime:U}));z=o||new i.e;W=v&&v.pendingNavigationSignal||new i.e;return b?[4,s(b({hasPageLoaded:!!c,itemsScopeItemKey:e,error:P}))]:[3,2];case 1:K.sent();return[3,4];case 2:k&&k.resolve();return A?[4,A.promise]:[3,4];case 3:K.sent();K.label=4;case 4:(X=new E.e).invalidateItems({items:(V={},V[T]=[u.e],V)});X.resolveItems({items:($={},$[e]=Object(r.e)({},w.t.pack({isNavigating:void 0,currentItemKey:void 0,previousItemKey:void 0,pendingNavigationSignal:W})),$[T]=Object(r.e)(Object(r.e)(Object(r.e)({},N.pack(z)),u.e.pack(!0)),S.t.pack(P)),$)});s(X.execute());s(Object(p.t)({items:(J={},J[T]={},J)}));P?W.reject(P):W.resolve();z.resolve();return[2]}})})}}function O(e){var t=e.itemsScopeItemKey,n=Object(r.s)(e,["itemsScopeItemKey"]);return function(e){var o,f=u.u.serialize({}),c=e(Object(a.e)(function(e){return{itemsScopeInitTime:e.demandItemFacet(u.r,t),hasPageLoaded:e.demandItemFacet(u.e,T),resetPerfLogger:e.demandItemFacet(u.o,f),pageLoadConfiguration:e.demandItemFacet(u.s,d.e),pendingNavigation:e.demandItemFacet(w.t,t)}})),h=c.hasPageLoaded,p=c.resetPerfLogger,v=c.itemsScopeInitTime,m=c.pageLoadConfiguration,g=c.pendingNavigation,y=(m||{}).enablePageLoadBarrier,E=void 0!==y&&y,S=Math.round(Object(l.n)()),x=n||{},N=x.previousItemKey,k=x.currentItemKey;Object(l.e)("signalItemsViweNavigationStart_key(".concat(t,")_ItemKeyChanged(").concat(N!==k,")"));v||Object(l.e)("ItemsScope.Init.Start (".concat(t,")"));p&&E&&p({isFullPageLoad:!h,keyChanges:n,itemsScopeItemKey:t});var L=g&&g.pendingNavigationSignal,A=new i.e;e(C);e(Object(s.e)({items:(o={},o[t]=Object(r.e)(Object(r.e)({},v?{}:Object(r.e)({},u.r.pack(S))),w.t.pack({currentItemKey:E?k:void 0,isNavigating:!!E||void 0,previousItemKey:E?N:void 0,pendingNavigationSignal:A})),o)}));L&&L.reject(new b.e({message:"Interrupted"}));E||A.resolve();return{completed:A.promise}}}function M(e){var t=this;void 0===e&&(e={});var n=e.waitIndefinitely;return function(e){return Object(r.t)(t,void 0,void 0,function(){var t,i,s;return Object(r.i)(this,function(r){switch(r.label){case 0:e(C);t=!1;r.label=1;case 1:if(t)return[3,6];r.label=2;case 2:r.trys.push([2,4,,5]);return[4,e(_({itemKey:T,options:{demands:(s={},s[u.e.id]=!0,s)}}))];case 3:r.sent();t=!0;return[3,5];case 4:i=r.sent();if(!(n&&i instanceof b.e))throw i;return[3,5];case 5:return[3,1];case 6:return[2]}})})}}function _(e){var t=this,n=e.itemKey;return function(e){return Object(r.t)(t,void 0,void 0,function(){var t,o,u,f;return Object(r.i)(this,function(l){switch(l.label){case 0:if(!e(k()))return[2];if(t=e(Object(a.e)(function(e){return e.demandItemFacet(N,n)})))o=t;else{o=new i.e;e(Object(s.e)({items:(u={},u[n]=Object(r.e)({},N.pack(o)),u)}));Object(p.t)({items:(f={},f[n]={},f)})}return[4,o.promise];case 1:l.sent();return[2]}})})}}},286:function(e,t,n){"use strict";n.d(t,"e",function(){return o});var r=n(93),i=n(437),s=n(43);function o(e){var t,n,o,u=e.key,a=e.keyFacet,f=e.operationTypeFacet,l=e.items;if(a&&f){n=a;o=f}else t=Object(r.e)(u),n=t.keyFacet,o=t.operationTypeFacet;return function(e){var t,r=[];e(Object(s.e)(function(e){var s=e.getMetaItem(n),u=s.readOperationQueue(o);if(u&&u.length){for(var a=0,f=u.length;a<f;a++){var c=u[a],h=c.itemKey,p=c.options,d=l[h];if(d)for(var v=0,m=d;v<m.length;v++){var g=m[v];p=Object(i.e)(p,g)}if(d&&0===Object.keys(p).length){t||(t=u.slice(0,a));r.push(c.completeSignal)}else t&&t.push(c)}t&&s.patchOperationQueue(o,t)}}));return{completeSignals:r}}}},295:function(e,t,n){"use strict";n.d(t,"n",function(){return o});n.d(t,"t",function(){return u});n.d(t,"r",function(){return a});n.d(t,"e",function(){return f});var r=n(0),i=n(51),s=n(55),o=Object(i.e)("waitForNextStoreUpdate"),u=Object(i.e)("forceNextStoreUpdate");function a(){var e=this;return function(t){return Object(r.t)(e,void 0,void 0,function(){var e;return Object(r.i)(this,function(n){switch(n.label){case 0:e=new s.e;t(o({signal:e}));return[4,e.promise];case 1:n.sent();return[2]}})})}}function f(){return function(e){e(u({}))}}},297:function(e,t,n){"use strict";n.d(t,"e",function(){return s});var r=n(33),i=n(377),s=new r.e(i.e)},306:function(e,t,n){"use strict";n.d(t,"t",function(){return v});n.d(t,"e",function(){return m});var r=n(0),i=n(154),s=n(66),o=n(2),u=n(36),a=n(33),f=n(381),l=n(51),c=n(43),h=n(437),p=n(522);var d=(function(e){Object(r.r)(t,e);function t(t,n){var r=e.call(this)||this;r._completedOperation=t;r._updateCompleteSignals=n;return r}t.prototype.apply=function(e){if(e){var t=(function(e,t){for(var n=void 0,i=[],s=0,o=e.length;s<o;s++){var u=e[s],a=u.itemKey,f=u.completeSignal,l=u.options,c=t.items[a],d=void 0;if(c&&(d=Object(h.e)(l,c))&&!Object(p.e)(d,l)){n||(n=e.slice(0,s));Object.keys(d).length>0&&Object.keys(d.demands).length>0?n.push(Object(r.e)(Object(r.e)({},u),{options:d})):i.push(f)}else n&&n.push(u)}return{newQueue:n||e,workToComplete:i}})(e,this._completedOperation),n=t.newQueue,i=t.workToComplete;this._updateCompleteSignals(i);return n}};return t})(s.t);function v(e){return function(t){t(Object(c.e)(function(t){var n=t.getMetaItem(e.keyFacet),i=n.readSupportedFacets();if(i){for(var s=new Set,o=0,u=i;o<u.length;o++){var a=u[o];s.add(a)}for(var f=Object(r.o)([],i,!0),l=0,c=e.facets;l<c.length;l++){a=c[l];s.has(a)||f.push(a)}n.setSupportedFacets(f)}else n.setSupportedFacets(e.facets)}))}}var m=Object(l.t)(function(e){return function(t){var n=e.items,r=e.publisher,l={},h=[];t(Object(f.e)(e));t(Object(c.e)(function(e){for(var t=0,r=Object.keys(n);t<r.length;t++){var f=r[t],c=a.e.get(f),p=n[f],v={};if(p&&"object"==typeof p&&!Object(s.r)(p)&&!Object(s.i)(p)){for(var m=e.getItem(f),g=0,y=Object.keys(p);g<y.length;g++){var b=y[g],w=o.e.get(b);m.setResolution(w,u.e.resolved);v[b]=!0}if(!m.readIsResolved(c)){m.set(c,c.deserialize(f));v[c.id]=!0}l[f]={demands:v}}}for(var E=function(t){var n=l[t].demands;e.getItem(t).mappedKeys.forEach(function(t){var r;if(t){var s=a.e.get(t),o={items:(r={},r[t]={demands:n},r)};e.getMetaItem(s).patchOperationQueue(i.e,new d(o,function(e){h.push.apply(h,e)}))}})},S=0,x=Object.keys(l);S<x.length;S++){E(f=x[S])}},{publisher:r}));for(var p=0,v=h;p<v.length;p++){v[p].resolve()}}})},334:function(e,t,n){"use strict";n.d(t,"e",function(){return r});var r=new(n(2).e)("backgroundTaskQueue")},335:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(43);function i(e,t){return function(n){return function(i){i(Object(r.e)(function(r){var i=r.getMetaItem(e);n.isFactory?i.registerControlHandlerFactory(t,n):i.registerControlHandler(t,n)}))}}}},336:function(e,t,n){"use strict";n.d(t,"e",function(){return i});n.d(t,"t",function(){return s});var r=n(2),i=(new r.e("defaultCollapsed"),new r.e("count")),s=new r.e("isGroup");new r.e("isDropEnabled"),new r.e("foldersGroup"),new r.e("documentsGroup"),new r.e("mediaGroup"),new r.e("largeItemSet")},346:function(e,t,n){"use strict";n.d(t,"e",function(){return o});var r=n(143),i=n(365),s={merge:function(e,t){return t&&e&&Object(i.e)(t,e)||t||e}};var o=new r.e("itemsScope",{onError:r.t,currentItemKey:r.t,onRenderRoot:s})},363:function(e,t,n){"use strict";n.d(t,"e",function(){return s});var r=n(88),i=n(182);function s(){var e=Object(i.e)();return function(t,n){void 0===n&&(n={});return e(function(){r.unstable_batchedUpdates(t)},n)}}},364:function(e,t,n){"use strict";n.d(t,"e",function(){return r});var r=new(n(2).e)("itemActivityColumnConfigurationFacet")},375:function(e,t,n){"use strict";n.d(t,"e",function(){return a});var r=n(440),i=n(2),s=n(439),o=new i.e("deleteItems"),u=new s.e("deleteItems"),a=Object(r.e)({operationTypeFacet:o,progressKeyFacet:u})},378:function(e,t,n){"use strict";n.d(t,"t",function(){return x});n.d(t,"e",function(){return T});var r=n(0),i=n(51),s=n(154),o=n(216),u=n(237),a=n(2),f=n(36),l=n(43),c=n(62),h=n(55),p=n(437),d=n(522),v=n(115),m=n(155),g=n(176),y=n(186),b=(function(e){Object(r.r)(t,e);function t(t){void 0===t&&(t={});return e.call(this,t)||this}return t})(m.e),w=n(255),E=n(33);function S(e){return e instanceof m.e&&!!v.t.unpack(e.facets)}var x=function(e){var t=e.flushOperationQueue,n=e.shouldExcludeResolvedDemands,i=void 0===n||n;return function(n){return Object(r.t)(void 0,void 0,void 0,function(){var a,f,l,c,h,p,d,v;return Object(r.i)(this,function(m){switch(m.label){case 0:a=e.items;i&&(a=n(Object(y.e)(function(t){return Object(o.e)(t,e)})).items);if(!(Object.keys(a).length>0))return[3,5];f=n(Object(u.e)({operationTypeFacet:s.e,enqueueOperations:N,flushOperationQueue:t,items:a})),l=f.started,c=f.completed,h=f.items;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&n(k(Object(r.e)({itemKey:p,options:a[p]},h[p])));d=!1;m.label=1;case 1:m.trys.push([1,4,,5]);return[4,l];case 2:m.sent();d=!0;return[4,c];case 3:m.sent();return[3,5];case 4:v=m.sent();d||c.catch(function(e){});if(S(v))return[2];throw v;case 5:return[2]}})})}},T=Object(i.t)(function(e){return function(t){return Object(r.t)(void 0,void 0,void 0,function(){return Object(r.i)(this,function(n){return[2,t(x(e))]})})}});function N(e,t){for(var n=void 0,i=function(t,i,s,o){for(var u=o,a=0,f=[],l=[],c=0,v=e;c<v.length;c++){var m=v[c],y=m.itemKey,b=m.startSignal,w=m.completeSignal,E=m.options;if(t===y){a++;var S=u;u=Object(p.e)(u,E);if(!Object(d.e)(u,S)){l.push(w.promise);f.push(b.promise)}}}var x=u.demands;if(x&&Object.keys(x).length>0||0===a){n||(n=Object(r.o)([],e,!0));var T=new h.e,N=new h.e;N.promise.then(T.resolve,T.reject);f.push(T.promise);l.push(N.promise);n.push({itemKey:t,startSignal:T,completeSignal:N,options:u})}Promise.race(f).then(function(){return i.resolve()},i.reject);Object(g.e)(l).then(function(){return s.resolve()},s.reject)},s=0,o=t;s<o.length;s++){var u=o[s];i(u.itemKey,u.startSignal,u.completeSignal,u.options)}return n||e}function C(e,t){var n=t.items,r=t.resolution;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var s=n[i].demands,o=e.getItem(i);for(var u in s)if(Object.prototype.hasOwnProperty.call(s,u)){var f=a.e.get(u);o.readResolution(f)||o.setResolution(f,r)}}}function k(e){var t=this,n=e.itemKey,i=e.preferredItemKey;return function(s){return Object(r.t)(t,void 0,void 0,function(){var t;return Object(r.i)(this,function(r){switch(r.label){case 0:r.trys.push([0,3,,4]);return[4,e.started];case 1:r.sent();return[4,e.completed];case 2:r.sent();s(Object(l.e)(function(t){var r,s=Object(w.e)(t,{itemKey:n});s&&E.e.get(s)!==E.e.get(i)||C(t,{items:(r={},r[n]=e.options,r),resolution:f.e.unsupported})}));return[3,4];case 3:if((t=r.sent())instanceof c.e)return[2];S(t)||s(Object(l.e)(function(r){var i;r.getItem(n).set(f.t,t instanceof m.e?t:new b({innerError:t}));C(r,{items:(i={},i[n]=e.options,i),resolution:f.e.failed})}));return[3,4];case 4:return[2]}})})}}},380:function(e,t,n){"use strict";n.d(t,"e",function(){return a});n.d(t,"n",function(){return f});n.d(t,"t",function(){return l});var r=n(51),i=n(150),s=n(43),o=n(125),u=(Object(r.t)(function(e){return function(t){t(i.e).performGarbageCollection({minAge:e.maxAge})}}),Object(r.t)(function(e){return function(e){}}),Object(o.e)(function(e){return new Map})),a=Object(r.t)(function(e){var t=e.items,n=e.owner;return function(e){var r=e(u),i=r.get(n),o=new Map;r.set(n,o);e(Object(s.e)(function(e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=null==i?void 0:i.get(n);if(r)null==i||i.delete(n);else{r=e.getItem(n).markAsNeeded()}o.set(n,r)}}));i&&i.forEach(function(e){e()})}}),f=Object(r.t)(function(e){var t=e.owner;return function(e){var n=e(u),r=n.get(t);if(r){r.forEach(function(e){e()});n.delete(t)}}}),l=(Object(r.t)(function(e){return function(e){}}),Object(r.t)(function(e){var t=e.items;return function(e){e(Object(s.e)(function(e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){e.getItem(n).markAsPermanent()}}))}}))},381:function(e,t,n){"use strict";n.d(t,"e",function(){return d});var r=n(66),i=n(2),s=n(51),o=n(43),u=n(71),a=n(193),f=n(143),l=n(77),c=n(197);var h=function(e){return e};function p(e,t,n){if(n&&Object(r.r)(n))e.deleteItem(t);else if(n&&Object(r.i)(n));else if(n&&"object"==typeof n&&Object.getPrototypeOf(n)!==Object.prototype);else if(n&&"object"==typeof n)for(var s=t===u.e,o=e.configuration,p=e.getItem(t),d=0,v=Object.keys(n);d<v.length;d++){var m=v[d],g=i.e.get(m);if(!(g instanceof a.e||g instanceof f.e)){var y=n[m];if(m===c.e.id){var b=y;b.triggers&&p.patchLegacyInvalidationTriggers(b);continue}var w=(s?o:p).read(g);if(!Object(l.e)(y,w)){var E=void 0;if(y&&Object(r.r)(y))s||p.delete(g);else{if(y&&Object(r.i)(y))E=y.apply(w,{graft:r.n,unlock:h});else if(y&&"object"==typeof y&&Object.getPrototypeOf(y)!==Object.prototype)E=y;else if(y&&"object"==typeof y&&(void 0===w||w&&"object"==typeof w)){E=Object(r.n)(void 0===w?{}:w,y)}else E=y;s?o.set(g,E):p.setValue(g,E)}}}}}Object(s.e)("updateItems");var d=Object(s.t)(function(e){return function(t){t(Object(o.e)(function(t){(function(e,t){for(var n=t.items,r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];p(e,s,n[s])}})(t,e)},{publisher:e.publisher}));return{type:"updateItems"}}})},382:function(e,t,n){"use strict";n.d(t,"e",function(){return s});var r=n(51),i=n(43),s=Object(r.t)(function(e){var t=e.items,n=e.skipInvalidationTriggers,r=void 0!==n&&n,s=e.publisher;return function(e){e(Object(i.e)(function(e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))for(var i=e.getItem(n),s=0,o=t[n];s<o.length;s++){var u=o[s];i.invalidate(u,r)}},{publisher:s}))}})},436:function(e,t,n){"use strict";n.d(t,"t",function(){return s});n.d(t,"e",function(){return o});n.d(t,"n",function(){return u});n(0),n(286),n(62),n(93),n(186),n(33),n(95);var r=n(43),i=n(51);function s(e){return function(e){throw new Error("The getOperationState thunk action is not available in LeanItemScope!")}}var o=Object(i.t)(function(e){throw new Error("The editQueue thunk action is not available in LeanItemScope!")});function u(e,t){return function(n){return function(i){i(Object(r.e)(function(r){r.getMetaItem(e).registerLegacyOperationHandler(t,n)}))}}}},439:function(e,t,n){"use strict";n.d(t,"e",function(){return u});var r=n(0),i=n(48),s=n(33),o=n(190),u=(function(e){Object(r.r)(t,e);function t(t,n){var r=e.call(this,"progress-".concat(t),{taskKey:i.e,batch:o.e.subKeyPart})||this;r._getTaskKey=n;return r}t.prototype.serializeBatchKey=function(e){return this.serialize({batch:o.e.deserialize(e),taskKey:void 0})};t.prototype.serializeTaskKey=function(e,t,n){var r=this._getTaskKey;return this.serialize({batch:o.e.deserialize(e),taskKey:r?r(t,n):t})};return t})(s.e)},440:function(e,t,n){"use strict";n.d(t,"e",function(){return j});var r=n(0),i=n(336),s=n(2),o=n(193),u=n(121),a=n(143),f=new a.e("progressError",{errorKey:a.t}),l=(new s.e("createdItem"),new s.e("sourceItem")),c=(new s.e("destinationItem"),new s.e("conflictResolution"),"created"),h="started",p="completed",d="failed",v="canceled",m="expired",g=new s.e("phase"),y=new s.e("progressSize"),b=new s.e("progressCounts"),w=(new s.e("progressAggregationOnly"),new s.e("cancelSource"),{created:0,started:0,completed:0,failed:0,canceled:0,expired:0}),E=new o.e("overallProgressCounts",function(e,t){var n=e.demandItemFacet(b,t.itemKey);if(n)return n;var i=Object(r.e)({},w),s=e.demandItemFacet(g,t.itemKey);s&&i[s]++;var o=e.demandItemFacet(u.e,t.itemKey);if(o)for(var a=0,f=o.itemKeys;a<f.length;a++){var l=f[a],c=e.demandItemFacet(E,l);if(c){i.created+=c.created;i.started+=c.started;i.completed+=c.completed;i.failed+=c.failed;i.canceled+=c.canceled;i.expired+=c.expired}}return i}),S=new o.e("progressErrorFacet",function(e,t){if(t.itemKey){var n=e.demandItemFacet(f,t.itemKey);return f.evaluate(n)(e,{itemKey:t.itemKey}).errorKey}}),x=new o.e("progressErrorCounts",function(e,t){var n;if(!t.itemKey)return{};var i=e.demandItemFacet(S,t.itemKey),s=Object(r.e)({},i?((n={})[i]=1,n):{}),o=e.demandItemFacet(u.e,t.itemKey);if(o)for(var a=0,f=o.itemKeys;a<f.length;a++){var l=f[a],c=e.demandItemFacet(x,l);if(c)for(var h=0,p=Object.keys(c);h<p.length;h++){var d=p[h];s[d]=(s[d]||0)+(c[d]||0)}}return s});new o.e("overallProgressPhase",function(e,t){var n=e.demandItemFacet(E,t.itemKey);if(n){return(r=n).started?h:r.created?c:r.failed?d:r.completed?p:r.canceled?v:m;var r}});var T=new o.e("overallProgressSize",function(e,t){var n=e.demandItemFacet(y,t.itemKey);if(n)return n;var r=e.demandItemFacet(u.e,t.itemKey);if(r){for(var i={total:0,current:0},s=0,o=r.itemKeys;s<o.length;s++){var a=o[s],f=e.demandItemFacet(T,a);if(!f)return;i.current+=f.current;i.total+=f.total}return i}});new o.e("overallSimpleProgressBreakdown",function(e,t){var n=e.demandItemFacet(E,t.itemKey);if(n){return(r=n).started||r.created?{phase:h,count:r.started+r.completed+r.created+r.failed}:r.failed?{phase:d,count:r.failed}:r.completed?{phase:p,count:r.completed}:{phase:v,count:r.canceled+r.expired};var r}});var N=n(524),C=n(190),k=new(n(33).e)("progressRoot",{}).serialize({}),L=n(51),A=n(237),O=n(525),M=n(380),_=n(36),D=n(62),P=n(306);function H(e){var t=this,n=e.progressItemKey,i=e.started,s=e.completed,o=e.progressSize;return function(u){return Object(r.t)(t,void 0,void 0,function(){var t,a,f,l,c,m;return Object(r.i)(this,function(b){switch(b.label){case 0:t={operation:H};a=B(e.onStarted,function(e){var t;u(Object(P.e)({items:(t={},t[e.progressItemKey]=Object(r.e)(Object(r.e)({},g.pack(h)),"number"==typeof o?Object(r.e)({},y.pack({total:0,current:0})):{}),t)}))});f=B(e.onCompleted,function(e){var t;u(Object(P.e)({items:(t={},t[n]=Object(r.e)(Object(r.e)({},g.pack(p)),"number"==typeof o?Object(r.e)({},y.pack({total:0,current:o})):{}),t)}))});l=B(e.onFailed,function(e){var t,n=e.error;u(Object(P.e)({items:(t={},t[e.progressItemKey]=Object(r.e)(Object(r.e)({},g.pack(n&&Object(D.n)(n)?v:d)),n?Object(r.e)({},_.t.pack(n)):{}),t)}))});u(Object(M.e)({owner:t,items:(m={},m[n]={},m)}));b.label=1;case 1:b.trys.push([1,4,5,6]);return[4,i];case 2:b.sent();a({progressItemKey:n});return[4,s];case 3:b.sent();f({progressItemKey:n});return[3,6];case 4:c=b.sent();l({progressItemKey:n,error:c});return[3,6];case 5:u(Object(M.n)({owner:t}));return[7];case 6:return[2]}})})}}function B(e,t){return e?function(n,r){e(n,function(e){t(e,r)})}:t}function j(e){var t=this,n=e.operationTypeFacet,o=e.progressKeyFacet,a=e.initializeBatch;return Object(L.t)(function(e){var f=e.items;return function(h){return Object(r.t)(t,void 0,void 0,function(){var t,p,d,v,m,y,b,w,E,S,x,T,L,_,D,P,B,F,I;return Object(r.i)(this,function(q){switch(q.label){case 0:t=C.e.serializeNext();p=o.serializeBatchKey(t);d={operation:j};h(Object(M.e)({owner:d,items:(B={},B[p]={},B)}));v={};m=[];y=new N.e;for(b=0,w=Object.keys(f);b<w.length;b++){_=w[b];D=f[_];P=o.serializeTaskKey(t,_,D);y.resolveItems({items:(F={},F[P]=Object(r.e)(Object(r.e)(Object(r.e)(Object(r.e)({},u.n.pack({itemKey:p})),l.pack({itemKey:_})),Object(s.t)({options:n},{options:D})),g.pack(c)),F)});v[_]=Object(r.e)(Object(r.e)({},D),{progressItemKey:P});m.push(P)}y.resolveItems({items:(I={},I[k]=Object(s.t)({childItems:u.e},{childItems:{itemKeys:new O.e([p],function(e){return e})}}),I[p]=Object(r.e)(Object(r.e)(Object(r.e)({},u.n.pack({itemKey:k})),Object(s.t)({childItems:u.e},{childItems:{itemKeys:new O.e(m,function(e){return e})}})),i.t.pack(!0)),I)});h(y.execute());a&&h(a({items:v,progressBatchKey:p}));E=h(Object(A.e)(Object(r.e)(Object(r.e)({},e),{operationTypeFacet:n,items:v}))),S=E.completed,x=E.items;for(T=0,L=Object.keys(x);T<L.length;T++){_=L[T];D=f[_];P=o.serializeTaskKey(t,_,D);h(H(Object(r.e)({progressItemKey:P},x[_])))}q.label=1;case 1:q.trys.push([1,,3,4]);return[4,S];case 2:q.sent();return[3,4];case 3:h(Object(M.n)({owner:d}));return[7];case 4:return[2]}})})}})}},521:function(e,t,n){"use strict";n.d(t,"e",function(){return i});var r=n(150);function i(e){return function(t){for(var n=t(r.e).reader.configuration,i={},s=0,o=Object.keys(e);s<o.length;s++){var u=o[s],a=e[u];if(!a)throw new Error("Mapping '".concat(u,"' was not passed a valid Facet or IFacet instance in readConfiguration."));i[u]=n.read(a)}return i}}},524:function(e,t,n){"use strict";n.d(t,"e",function(){return l});var r=n(0),i=n(306),s=n(382),o=n(381),u=n(43),a=n(50),f=!!Object(a.t)(),l=(function(){function e(e){void 0===e&&(e={});this._invalidateItems=[];this._resolveItems=[];this._mapKeys=[];this._moveKeys=[];this._updateItems=[];this._editItems=[];this._publisher=e.publisher}e.prototype.mapKeys=function(e){if(this._done)throw new Error("This ItemResolver has been merged or executed, and may no longer be modified.");this._mapKeys.push(e)};e.prototype.moveKeys=function(e){if(this._done)throw new Error("This ItemResolver has been merged or executed, and may no longer be modified.");this._moveKeys.push(e)};e.prototype.invalidateItems=function(e){if(this._done)throw new Error("This ItemResolver has been merged or executed, and may no longer be modified.");this._invalidateItems.push(e)};e.prototype.resolveItems=function(e){if(this._done)throw new Error("This ItemResolver has been merged or executed, and may no longer be modified.");this._resolveItems.push(e)};e.prototype.updateItems=function(e){if(this._done)throw new Error("This ItemResolver has been merged or executed, and may no longer be modified.");this._updateItems.push(e)};e.prototype.editItems=function(e){this._editItems.push(e)};e.prototype.merge=function(e){var t,n,r,i,s,o;e._done=!0;(t=this._moveKeys).push.apply(t,e._moveKeys);(n=this._mapKeys).push.apply(n,e._mapKeys);(r=this._invalidateItems).push.apply(r,e._invalidateItems);(i=this._resolveItems).push.apply(i,e._resolveItems);(s=this._updateItems).push.apply(s,e._updateItems);(o=this._editItems).push.apply(o,e._editItems)};e.prototype.execute=function(){var e=this;this._done=!0;return function(t){t(Object(u.e)(function(t){for(var n=0,r=e._editItems;n<r.length;n++){(0,r[n])(t)}for(var i=0,s=e._moveKeys;i<s.length;i++){var o=s[i].mappings;for(var u in o)if(Object.prototype.hasOwnProperty.call(o,u)){var a=o[u];t.moveItemTo(u,a)}}for(var f=0,l=e._mapKeys;f<l.length;f++){o=l[f].mappings;for(var u in o)if(Object.prototype.hasOwnProperty.call(o,u)){a=o[u];t.mapItems(u,a)}}},{publisher:e._publisher}));for(var n=0,a=e._invalidateItems;n<a.length;n++){var l=a[n];t(f?Object(s.e)(Object(r.e)(Object(r.e)({},l),{publisher:e._publisher})):Object(s.e)(l))}e._updateItems.forEach(function(n){t(f?Object(o.e)(Object(r.e)(Object(r.e)({},n),{publisher:e._publisher})):Object(o.e)(n))});for(var c=0,h=e._resolveItems;c<h.length;c++){l=h[c];t(f?Object(i.e)(Object(r.e)(Object(r.e)({},l),{publisher:e._publisher})):Object(i.e)(l))}}};return e})()},526:function(e,t,n){"use strict";n.d(t,"e",function(){return c});var r=n(2),i=n(439),s=n(440),o=n(33),u=n(48),a=new r.e("renameItem"),f=new o.e("renameItemProgressItem",{itemKey:u.e,oldName:u.e}),l=new i.e("renameItems",function(e,t){var n=Object.keys(t.names)[0];return f.serialize({itemKey:e,oldName:n})}),c=Object(s.e)({operationTypeFacet:a,progressKeyFacet:l})},533:function(e,t,n){"use strict";n.d(t,"e",function(){return k});var r=n(2),i=n(0),s=n(51),o=n(150),u=n(171),a=n(125),f=new r.e("onDispatchInSelector");function l(e){console.warn(e)}var c=n(182),h=n(214),p=n(378),d=n(50),v=Object(d.t)(),m=(function(){function e(e,t){void 0===t&&(t=g);var n=this;this._scheduledGetItems=function(){n._currentGetItemsPromise=void 0;n._getItems()};this._getItems=function(){var e=n._getAggregateDemands();n._pendingSelectors=void 0;e&&n._dispatch(Object(p.t)({items:e,flushOperationQueue:!0,shouldExcludeResolvedDemands:!1})).catch(function(){})};this._dispatch=e;this._getItemsBatchThrottle=t}e.prototype.queueSelector=function(e){void 0===this._pendingSelectors&&(this._pendingSelectors=new Set);this._pendingSelectors.add(e);this._scheduleGetItems()};e.prototype.unqueueSelector=function(e){this._pendingSelectors&&this._pendingSelectors.delete(e)};e.prototype.flushAllDemands=function(){this._getItems()};e.prototype._scheduleGetItems=function(){this._currentGetItemsPromise||(this._currentGetItemsPromise=this._getItemsBatchThrottle().then(this._scheduledGetItems))};e.prototype._getAggregateDemands=function(){if(this._pendingSelectors){var e;this._pendingSelectors.forEach(function(t){var n=t.getUnresolvedDemands();if(n)for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];e||(e={});var o=e[s];if(!o){o={demands:{}};e[s]=o}for(var u=n[s].demands,a=0,f=Object.keys(u);a<f.length;a++){var l=f[a];o.demands[l]=!0}}t.markDemandsAsFlushed()});null==v||v.log({type:"flushedDemands",timestamp:performance.now(),details:{selectors:this._pendingSelectors}});return e}};return e})();function g(){return Promise.resolve()}var y=n(295),b=n(71),w={itemMap:{items:{}},keyMap:{lastAutoId:0,mappings:{},inverseMappings:{}},revision:0},E=Object(s.e)("getDispatchBlocker"),S=(function(){function e(e){var t=this;this.dispatch=function(e){var n=t._errorCreators[t._errorCreators.length-1];n&&t._onDispatchInSelector(n());if("function"==typeof e){var r=e;if(Object(a.t)(e)){if(t._actionResults.has(e))return t._actionResults.get(e);var s=void 0;s=r===h.t?t._storeUpdateBatcher:r===o.e?t._itemCacheEvaluator:r(t.dispatch,t.getState,t._cacheContext);t._actionResults.set(e,s);return s}return r(t.dispatch,t.getState,t._cacheContext)}if(y.n.matches(e)){var u=e.payload.signal;Object(i.t)(t,void 0,void 0,function(){return Object(i.i)(this,function(e){switch(e.label){case 0:return[4,this._storeUpdateBatcher.waitForNextStoreUpdate()];case 1:e.sent();u.resolve();return[2]}})});return e}if(y.t.matches(e)){t._storeUpdateBatcher.forceNotify();return e}return E.matches(e)?function(e){t._errorCreators.push(e);return function(){t._errorCreators.pop()}}:e};var n=e.itemCacheDebugger,s=e.configuration,p=Object(r.n)({onDispatchInSelector:f,storeNotifier:c.t,getItemsBatchThrottle:b.n},s),d=p.onDispatchInSelector,v=void 0===d?l:d,g=p.storeNotifier,w=void 0===g?Object(c.e)():g,S=p.getItemsBatchThrottle;this._cacheContext={};this._errorCreators=[];this._onDispatchInSelector=v;this._actionResults=new WeakMap;this._demandAggregator=new m(this.dispatch,S);this._storeUpdateBatcher=new h.e(w);this._itemCacheEvaluator=new u.e(this.dispatch,this.dispatch(E({})),this._demandAggregator,this._storeUpdateBatcher);n&&(this._unregisterFromDebugger=n.registerStore(this))}e.prototype.forItem=function(e){return this._itemCacheEvaluator.forItem(e)};e.prototype.getState=function(){return w};e.prototype.subscribe=function(e){return function(){}};e.prototype.replaceReducer=function(e){};e.prototype.dispose=function(){this._itemCacheEvaluator.dispose();this._unregisterFromDebugger&&this._unregisterFromDebugger()};return e})();var x=n(43),T=Object(r.t)({},{}),N=(function(){function e(e){this._stores=new Map;this._onLoad=e}e.prototype.load=function(){return Object(i.t)(this,void 0,void 0,function(){var e,t;return Object(i.i)(this,function(r){switch(r.label){case 0:return[4,n.ee([39],603)];case 1:e=r.sent().ItemCacheDebugger;t=new e(this._stores);this._onLoad&&this._onLoad(t);return[2,t]}})})};e.prototype.registerStore=function(e){var t=this;this._stores.set(e,!0);return function(){t._stores.delete(e)}};return e})(),C=!1;function k(e){var t=e.configuration,n=void 0===t?T:t,i=(function(){var e;if("undefined"!=typeof window)if("$ic"in window)C?e=window.$ic:console.warn("The $ic global has already been claimed, so the ItemCache debugger cannot be initialized.");else{e=window.$ic=new N(function(e){window.$ic=e});C=!0}return e})();Object(d.e)();var s=new S({configuration:n,itemCacheDebugger:i});(0,s.dispatch)(Object(x.e)(function(e){for(var t=e.configuration,i=0,s=Object.keys(n);i<s.length;i++){var o=s[i],u=r.e.get(o),a=n[o];t.set(u,a)}}));return s}},543:function(e,t,n){"use strict";n.d(t,"e",function(){return c});var r=n(0),i=n(1),s=n(88),o=n(187),u=n(143),a=function(e){void 0===e&&(e={});var t=this;this.enqueue=function(e){var n=t._onQueueTask;n&&(e=n(e));var r=t._queue;r?r.enqueue(e):t._earlyTasks.push(e)};this.queueRef=function(e){t._queue=e;if(e)for(var n=0,r=t._earlyTasks.splice(0,1/0);n<r.length;n++){var i=r[n];e.enqueue(i)}};this._earlyTasks=[];this._queue=null;this._onQueueTask=e&&e.onQueueTask};i.createContext({}),new u.e("backgroundTaskQueue",{queue:u.t});var f=new o.e("backgroundTask");function l(e){var t=this,n=e.queueRef,s=i.useState(function(){return{}}),o=s[0],u=s[1],a=i.useRef(u);i.useLayoutEffect(function(){return function(){a.current=void 0}},[]);var l=i.useRef(),c=l.current||(l.current={enqueue:function(e){return Object(r.t)(t,void 0,void 0,function(){var t,n,i;return Object(r.i)(this,function(s){switch(s.label){case 0:t=e.content,n=e.promise;i=f.serializeNext();a.current&&a.current(function(e){var n;return Object(r.e)(Object(r.e)({},e),((n={})[i]=t,n))});s.label=1;case 1:s.trys.push([1,3,4,5]);return[4,n];case 2:s.sent();return[3,5];case 3:s.sent();return[3,5];case 4:a.current&&a.current(function(e){var t=e,n=i;t[n];return Object(r.s)(t,["symbol"==typeof n?n:n+""])});return[7];case 5:return[2]}})})}});i.useLayoutEffect(function(){n(c);return function(){n(null)}},[n,c]);return i.useMemo(function(){var e=Object.keys(o);return e.length>0?i.createElement(i.Fragment,null,e.map(function(e){return i.createElement(i.Fragment,{key:e},o[e])})):null},[o])}var c=(function(){function e(){this._backgroundTaskHelper=new a;this._taskCount=0;this._element=null}e.prototype.enqueue=function(e){this._enqueue(e)};e.prototype.stop=function(){if(this._element){this._taskCount=0;s.unmountComponentAtNode(this._element);this._element.remove()}};e.prototype._enqueue=function(e){return Object(r.t)(this,void 0,void 0,function(){var t;return Object(r.i)(this,function(n){switch(n.label){case 0:if(0===this._taskCount){(t=this._element=document.createElement("div")).style.display="none";t.classList.add("ms-ItemsView-backgroundTaskRunner");document.body.appendChild(t);s.render(i.createElement(l,{queueRef:this._backgroundTaskHelper.queueRef}),t)}this._taskCount++;this._backgroundTaskHelper.enqueue(e);n.label=1;case 1:n.trys.push([1,,3,4]);return[4,e.promise];case 2:n.sent();return[3,4];case 3:this._taskCount--;if(0===this._taskCount&&this._element){s.unmountComponentAtNode(this._element);this._element.remove()}return[7];case 4:return[2]}})})};return e})()}}]);define("plt.items-view",[],{});